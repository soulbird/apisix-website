<!doctype html>
<html lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="ahrefs-site-verification" content="c2f7370ecf46173f4fb25f114e74c97e0a2976d4f02f61c9b00a9d7d34e34698">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Apache APISIX® -- Cloud-Native API Gateway Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Apache APISIX® -- Cloud-Native API Gateway Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-K24PRPS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-K24PRPS",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Apache APISIX® -- Cloud-Native API Gateway" href="/zh/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/zh/articles/rss.xml" title="Apache APISIX® -- Cloud-Native API Gateway Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/articles/atom.xml" title="Apache APISIX® -- Cloud-Native API Gateway Blog Atom Feed"><title data-react-helmet="true">Using the Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication | Apache APISIX® -- Cloud-Native API Gateway</title><meta data-react-helmet="true" property="og:image" content="https://static.apiseven.com/202202/apache-apisix.png"><meta data-react-helmet="true" name="twitter:image" content="https://static.apiseven.com/202202/apache-apisix.png"><meta data-react-helmet="true" property="og:url" content="https://apisix.apache.org/zh/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication"><meta data-react-helmet="true" name="docsearch:language" content="zh"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" name="robots" content="index,follow"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Using the Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication | Apache APISIX® -- Cloud-Native API Gateway"><meta data-react-helmet="true" name="description" content="This blog shows the procedures of using Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication.  This blog contains conceptual introductions of Apache APISIX and Okta Centralized Authentication, and detailed step-by-step instructions."><meta data-react-helmet="true" property="og:description" content="This blog shows the procedures of using Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication.  This blog contains conceptual introductions of Apache APISIX and Okta Centralized Authentication, and detailed step-by-step instructions."><meta data-react-helmet="true" name="keywords" content="API gateway,APISIX,Apache APISIX,Okta,Centralized Authentication"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-08-16T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/starsz"><meta data-react-helmet="true" property="article:tag" content="Practical Case"><link data-react-helmet="true" rel="shortcut icon" href="https://static.apiseven.com/202202/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://apisix.apache.org/zh/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/zh/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://38VC84A2WJ-dsn.algolia.net" crossorigin="anonymous"><link rel="preload" href="https://apisix-website-static.apiseven.com/zh/assets/js/runtime~main.7eccae1e.js" as="script">
<link rel="preload" href="https://apisix-website-static.apiseven.com/zh/assets/js/main.2db8c3d8.js" as="script">
<link rel="stylesheet" href="https://apisix-website-static.apiseven.com/zh/assets/css/styles.02b41649.css">

<script>var _paq=window._paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://analytics.apache.org/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","17"]);var e=document,p=e.createElement("script"),t=e.getElementsByTagName("script")[0];p.async=!0,p.src=a+"matomo.js",t.parentNode.insertBefore(p,t)}()</script>

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_QVmC">Skip to main content</a></div><div class="announcementBar_gVRT" style="background-color:#e8433e;color:white" role="banner"><div class="announcementBarPlaceholder_csWV"></div><div class="announcementBarContent_2kKG">🤔 Have queries regarding API Gateway? Join Slack channel to discuss <a target="_blank" rel="noopener noreferrer" href="/docs/general/join">join #apisix channel</a>! ⭐️</div><button type="button" class="clean-btn close announcementBarClose_EDEK" aria-label="Close"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"></path></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_IWhJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><img src="/zh/img/logo2.svg" alt="Apache APISIX®" class="themedImage_3EHU themedImage--light_heW6 navbar__logo"><img src="/zh/img/logo2.svg" alt="Apache APISIX®" class="themedImage_3EHU themedImage--dark_6pZL navbar__logo"><b class="navbar__title">Apache APISIX®</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/zh/docs">文档</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/docs/apisix/getting-started">Apache APISIX®️</a></li><li><a class="dropdown__link" href="/zh/docs/dashboard/USER_GUIDE">Apache APISIX®️ Dashboard</a></li><li><a class="dropdown__link" href="/zh/docs/ingress-controller/getting-started/">Apache APISIX®️ Ingress Controller</a></li><li><a class="dropdown__link" href="/zh/docs/helm-chart/apisix/">Apache APISIX®️ Helm Charts</a></li><li><a class="dropdown__link" href="/zh/docs/docker/build/">Apache APISIX®️ Docker</a></li><li><a class="dropdown__link" href="/zh/docs/java-plugin-runner/development/">Apache APISIX®️ Java Plugin Runner</a></li><li><a class="dropdown__link" href="/zh/docs/go-plugin-runner/getting-started/">Apache APISIX®️ Go Plugin Runner</a></li><li><a class="dropdown__link" href="/zh/docs/python-plugin-runner/getting-started/">Apache APISIX®️ Python Plugin Runner</a></li><li><a class="dropdown__link" href="/zh/docs/general/join">General</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/blog">博客</a><a class="navbar__item navbar__link" href="/zh/blog/tags/user-case">用户案例</a><a class="navbar__item navbar__link" href="/zh/downloads">下载</a><a class="navbar__item navbar__link" href="/zh/help">帮助</a><a class="navbar__item navbar__link" href="/zh/team">团队</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">相关资源</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/showcase">使用案例</a></li><li><a class="dropdown__link" href="/zh/plugins">插件市场</a></li><li><a class="dropdown__link" href="/zh/docs/general/join">加入社区</a></li><li><a class="dropdown__link" href="/zh/docs/general/events">社区活动</a></li></ul></div><div class="react-toggle toggle_pM6S react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_5Cll">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_5Cll">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_xkIr"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_drON thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_+zDs margin-bottom--md">All posts</div><ul class="sidebarItemList_L38e"><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/06/21/weekly-report-0621">社区双周报 6.01 - 6.15 </a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/06/14/automated-operation-base-apache-apisix">基于 Apache APISIX 的自动化运维平台</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/06/14/beeto-with-apache-apisix">APISIX 助力中东社交软件，实现本地化部署</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/06/14/how-mse-supports-canary-release-with-apache-apisix">阿里云 MSE 基于 Apache APISIX 的全链路灰度方案实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/06/14/xueqiu-with-apache-apisix">API 网关 Apache APISIX 助力雪球双活架构演进</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/06/07/installation-performance-test-of-apigateway-apisix-on-aws-graviton3">API 网关 Apache APISIX 在 AWS Graviton3 上的安装与性能测试</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/06/07/weekly-report-0607">社区双周报｜5.16 - 5.31 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/05/31/release-apache-apisix-2.14">Apache APISIX 2.14.1 正式发布</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/05/19/weekly-report-0519">社区双周报（5.01 - 5.15）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/05/10/weekly-report-0510">社区双周报｜4.15-4.30 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/04/29/interview-juzhiyuan-apache-member">琚致远：95 后 Apache Member 的成长之路</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/04/22/apisix-with-tidb-practice">基于 TiDB 的 API 网关高可用配置最佳实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/04/20/cve-2022-29266">APISIX jwt-auth 插件存在错误响应中泄露信息的风险公告（CVE-2022-29266）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/04/20/weekly-report-0420">社区双周报｜4.1-4.14 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/04/17/api-observability">API Observability with APISIX Plugins</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/04/12/apisix-summit-asia-2022">Apache APISIX Summit ASIA 2022 重磅来袭</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/28/release-apache-apisix-2.13">Apache APISIX 2.13.0 发布，LTS 和新功能，我全都要</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/24/weekly-report-0314">社区双周报｜3.1-3.14 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/05/apisix-integration-eureka-service-discovery">API 网关 Apache APISIX 集成 Eureka 作为服务发现</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/04/apigateway-clickhouse-makes-logging-easier">化繁为简，Apache APISIX 集成 ClickHouse 插件提升全链路日志效率</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery">API 网关 Apache APISIX 携手 CoreDNS 打开服务发现新大门</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/03/develop-apisix-with-gitpod">使用 Gitpod 开发 API 网关 Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/03/weekly-report-0228">社区双周报｜2.15-2.28 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/02/apisix-integration-graphql-plugin">GraphQL 碰撞 API 网关 Apache APISIX，提升 API 领域的安全与性能</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/02/zhongan-usercase-with-apache-apisix">APISIX 在众安保险的应用实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/03/01/apisix-integration-public-api-plugin">API 网关 APISIX Public API 处理能力再增强</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/02/28/apisix-integration-opentelemetry-plugin">可观测性能力升级，API 网关 Apache APISIX 集成 OpenTelemetry</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/02/25/consul-api-gateway">API 网关 Apache APISIX 集成 Consul KV，服务发现能力再升级</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/02/23/csrf-api-gateway">如何使用 API 网关 Apache APISIX 的 CSRF 安全插件拦截跨站点伪造攻击</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/02/21/nacos-api-gateway">Nacos 在 API 网关中的服务发现实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/02/17/weekly-report-0214">社区双周报｜2.1-2.14 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/02/16/file-logger-api-gateway">后端新手如何从 0 到 1 在 API 网关上开发 file-logger 插件</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/02/11/cve-2022-24112">Apache APISIX 存在改写 X-REAL-IP header 的风险公告（CVE-2022-24112）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/02/10/splunk-apisix-integration">云原生 API 网关 APISIX 集成 Splunk HTTP Event Collector</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/26/apisix-integrate-forward-auth-plugin">新插件 forward-auth 已上线，认证功能又多一项选择</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/25/apisix-grpc-web-integration">APISIX 支持 gRPC Web 协议请求代理</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/25/release-apache-apisix-2.12">Apache APISIX 2.12.0 版本发布，新功能更适配新一年！</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/24/apisix-with-qingcloud-meetup">直播预告 | 开源+云原生助力企业上云与行动落地</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/21/apisix-hashicorp-vault-integration">Apache APISIX 集成 HashiCorp Vault，生态系统再添一员</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/21/apisix-xrpc-details-and-miltilingual">多协议接入框架 xRPC 细节前瞻</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/20/upyun-public-gateway-usecase">CDN 业务场景下，又拍云的公网网关场景实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/19/weekly-report-0116">社区双周报｜1.1-1.16 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/17/apisix-kafka-integration">APISIX 集成 Kafka 实现高效实时日志监控</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/13/how-to-proxy-dubbo-in-apache-apisix">让你在 Apache APISIX 中代理 Dubbo 服务更便捷</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/11/apisix-with-shardingsphere-meetup">直播预告 | 从网关到数据，分布式全链路在线应用实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/11/building-apisix-in-ubuntu-for-arm">如何在 ARM Ubuntu 中构建 Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/05/weekly-report-1231">社区双周报（12.16-12.31）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2022/01/04/authing">Apache APISIX 结合 Authing 实现集中式身份认证管理</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/30/apisix-proxy-grpc-service">使用 Apache APISIX 代理 gRPC 服务</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/28/dashboard-cve-2021-45232">Apache APISIX Dashboard 未授权访问漏洞公告（CVE-2021-45232)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/24/apisix-integrate-openwhisk-plugin">生态丰富持续进行中，Apache OpenWhisk 集成闪亮登场</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/24/open-policy-agent">Apache APISIX 集成 Open Policy Agent</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/22/google-logging">API 网关现已支持对接 Google Cloud Logging</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/20/weekly-report-1215">社区双周报（12.1-12.15）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/17/exposure-istio-with-apisix-ingress">利用 APISIX Ingress 实现 Istio 服务的安全暴露</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/16/apisix-with-rocketmq-meetup">直播预告 | Apache APISIX × Apache RocketMQ 线上分享</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/15/deploy-apisix-in-kubernetes">两种方式教你在 K8s 中轻松部署 Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/13/monitor-apisix-ingress-controller-with-prometheus">使用 Prometheus 监控 APISIX Ingress Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/10/integrate-keycloak-auth-in-apisix">如何在 Apache APISIX 中集成 Keycloak 实现身份认证</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/08/apisix-integrate-rocketmq-logger-plugin">Apache APISIX 携手 RocketMQ 为实时 API 日志监控功能再下一城</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/07/apisix-integrate-skywalking-plugin">API 网关集成 SkyWalking 打造全方位日志处理</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/02/weekly-report-1130">社区双周报（11.15-11.30）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/01/apisix-supports-azure-functions">azure-functions 插件发布，Apache APISIX 支持 Azure Functions 集成</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/12/01/release-apache-apisix-2.11">Apache APISIX 2.11.0 正式发布</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/30/use-apisix-ingress-in-kubesphere">在 KubeSphere 中使用 APISIX Ingress 接入自定义监控</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/26/apache-apisix-committer-experience">成为 Apache APISIX Committer 让我体会到了知识转换价值的意义</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/23/cve-2021-43557-research-report">APISIX request_uri 变量控制不当，存在路径穿透风险</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/23/cve-2021-43557">Apache APISIX request_uri 变量控制不当，存在路径遍历风险公告(CVE-2021-43557)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/22/develop-apisix-ingress-with-nocalhost-in-kubernetes">如何在 Kubernetes 集群中使用 Nocalhost 开发 Apache APISIX Ingress Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/19/apisix-supports-wasm">重磅功能！Apache APISIX 拥抱 WASM 生态</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/17/dapr-with-apisix">如何与 Dapr 集成打造 Apache APISIX 网关控制器</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/16/weekly-report-1114">社区周报｜11.1-11.14 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/12/apisix-datadog">API 网关 Datadog 插件发布，助力提高系统可观测性</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/04/skywalking">浅谈 Apache APISIX 的可观测性</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/03/airwallex-usercase">Apache APISIX 如何通过网关层为 Airwallex 数据主权保驾护航</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/11/02/weekly-report-1031">社区双周报（10.15-10.31）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/10/26/extension-guide">Apache APISIX 扩展指南</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/10/26/apisix-ingress">APISIX Ingress 项目从 0 到 1 的发展历程</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/10/22/cert-manager-in-ingress">如何在 APISIX Ingress Controller 中使用 Cert Manager 管理证书</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/10/18/meetup">直播预告 | Apache APISIX × Apache SkyWalking 线上分享</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/10/14/weekly-report-1014">社区周报｜10.1-10.14 功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/10/13/celebrating-300-contributors-of-apisix">Apache APISIX 社区新里程碑——全球贡献者突破 300 位！</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/10/09/apisix-ingress-techblog">保姆级教程，从概念到实践帮你快速上手 Apache APISIX Ingress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/10/01/openeuler">APISIX 社区成员助力 openEuler 发布第一个社区创新版</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/30/weekly-report">社区双周报（9.13-9.30）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/29/release-apache-apisix-2.10">Apache APISIX 2.10.0(LTS 版本)正式发布</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/28/wps-usercase">百万级 QPS 业务新宠，金山办公携手 Apache APISIX 打造网关实践新体验</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/24/youpaicloud-usercase">Apache APISIX Ingress 为何成为又拍云打造容器网关的新选择？</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/18/xiaodian-usercase">Apache APISIX 助力便利充电创领者小电，实现云原生方案</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/16/tencent-cloud">APISIX 在腾讯云智能钛平台的落地实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/15/weekly-report">社区周报｜社区持续活跃，功能亮点更新进行中</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/14/youzan">APISIX 在有赞云原生 PaaS 平台的应用实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/13/china-mobile-cloud-usercase">APISIX 在移动云公司的应用实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/09/how-to-contribute-to-an-openSource-without-coding">不写代码，如何为开源项目做贡献？</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/07/how-to-use-apisix-auth">如何使用 APISIX 进行集中式身份认证</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/07/iqiyi-usercase">基于 Apache APISIX，爱奇艺 API 网关的更新与落地实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/09/06/python-helps-you-quickly-with-apache-apisix-development">Python 助你快速上手 Apache APISIX 插件开发</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/31/apache-apisix-kubeSphere-a-better-gateway-and-k8s-ingress-controller">借助 KubeSphere 提供更好用的网关及 K8s Ingress 控制器</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/30/ingress-meeting">社区会议｜APISIX Ingress 会议与你不见不散</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/30/weekly-report">社区周报（8.23-8.29）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/27/release-apache-apisix-2.9">Apache APISIX 2.9 正式发布</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/25/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication">使用 APISIX openid-connect 插件进行集中身份认证</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/25/why-apache-apisix-chose-nginx-and-lua">为什么 Apache APISIX 选择 NGINX+Lua 技术栈？</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/24/shanghai-meetup-recap">Apache APISIX Meetup 上海站全程回顾</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/23/apachecon-asia-2021">ApacheCon Asia 2021</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/23/weekly-report">社区双周报（8.16-8.22）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/21/shanghai-meetup">8.21 Apache APISIX Meetup 上海站报名开启！</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/19/go-makes-apache-apisix-better">Go 让 Apache APISIX 如虎添翼</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/19/weekly-report">Apache APISIX 社区周报（8.9-8.15）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/18/auth-with-casbin-in-apache-apisix">在 APISIX 中使用 Casbin 授权</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/17/interview-airwallex">Apache APISIX 在 Airwallex 的应用 | 专访 Airwallex 技术平台负责人李杨</a></li><li class="sidebarItem_iLZw"><a aria-current="page" class="sidebarItemLink_Y3HD sidebarItemLinkActive_Ycqn" href="/zh/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication">Using the Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/14/contributors-the-golden-metric-of-opensource-projects">贡献者，是衡量开源项目的金指标</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/12/chaos-mesh-helps-apache-apisix-improve-system-stability">Chaos Mesh Helps Apache APISIX Improve System Stability</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/11/interview-tuzhengsong">从新手村出来，我在 Apache APISIX 社区发出了第一个 PR</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/10/apisix-nginx">Apache APISIX 架构分析：如何动态管理 Nginx 集群？</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/09/apache-apisix-in-china-mobile-cloud">Apache APISIX 在移动云的应用</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/09/apache-apisix-in-quliankeji">舍弃 Kong 和 NGINX，APISIX 在趣链科技 BaaS 平台的落地实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/06/using-apache-apisix-to-improve-the-observability-of-nginx">如何利用 Apache APISX 提升 NGINX 的可观测性</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/08/05/kong-to-apisix">Kong-To-APISIX 迁移工具</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/07/28/release-apache-apisix-2.8">Apache APISIX 2.8 正式发布</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/07/27/use-of-plugin-orchestration-in-apache-apisix">插件编排在 Apache APISIX 中的应用与实践</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/07/25/apachecon-asia">ApacheCon Asia 2021：Apache APISIX 技术议题一览</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/07/21/apache-apisix-kubernetes">直播预告｜Apache APISIX x Kubernetes</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/07/06/the-road-to-customization-of-sina-weibo-api-gateway-based-on-apache-apisix">基于 Apache APISIX，新浪微博 API 网关的定制化开发之路</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/07/06/celebrate-200-contributors">Apache APISIX has over 200 contributors in GitHub main repo! </a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/30/etcd3-support-http-access-perfectly">差之毫厘：etcd 3 完美支持 HTTP 访问？</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/29/release-apache-apisix-2.7">Apache APISIX 2.7.0 正式发布</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/28/why-we-need-apache-apisix">有了 NGINX 和 Kong，为什么还需要 Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/23/deploy-great-open-source-gateway-and-ingress-controller-fast">使用 Rancher 极速部署更好用的开源网关和 Ingress 控制器</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/21/use-java-to-write-apache-apisix-plugins">使用 Java 编写 Apache APISIX 插件</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/18/first-ga-version-v1.0-of-apache-apisix-ingress-controller-released">Apache APISIX Ingress Controller 首个 GA 版本 v1.0 正式发布！</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/17/apache-apisix-dashboard-access-control-bypass-vulnerability-announcement">Apache APISIX Dashboard 访问控制绕过漏洞公告（CVE-2021-33190）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/16/chaos-mesh-helps-apache-apisix-improve-stability">Chaos Mesh 助力 Apache APISIX 提升稳定性</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/10/apache-apisix-and-envoy-performance-comparison">Apache APISIX 和 Envoy 性能大比拼</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/07/apache-apisix-not-affected-by-nginx-cve-2021-23017">Apache APISIX not affected by NGINX CVE-2021-23017</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/06/06/apisix-two-years">Apache APISIX 开源 2 周年！</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/blog/2021/06/03/firsthand-experience-with-apache-apisix-from-ospp-2020-students">First Experience with Apache APISIX Shared by Student in OSPP 2020</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/05/25/apache-apisix-2.6.0-release">Apache APISIX 2.6.0-Release 正式发布</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/05/24/tencent-games">支持 10 亿日流量的基础设施：当 Apache APISIX 遇上腾讯</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/03/02/get-front-end-test-coverage-with-cypress">Get Front-End Test Coverage with Cypress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/02/26/install-apache-apisix-from-helm-charts">Install Apache APISIX from Helm Charts</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/02/08/stable-product-delivery-with-cypress">Stable Product Delivery with Cypress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/01/21/run-ingress-apisix-on-amazon-eks">Run Ingress APISIX on Amazon EKS</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2021/01/11/interview-apache-apisix-contributor-wang-pengcheng-senior-security-advisor-of-pwc-south-china-data-security-and-privacy-protection-team">Apache APISIX 贡献者专访 | 普华永道华南数据安全与隐私保护团队高级安全顾问王鹏诚</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2020/12/18/first-look-at-kubernetes-service-api">初探 Kubernetes Service APIs</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2020/12/16/another-way-to-implement-envoy-filter">Envoy and Apache APISIX: Another way to implement the Envoy filter</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/zh/blog/2020/12/11/beike-how-to-build-gateway-based-on-apache-apisix">贝壳找房如何基于 APISIX 搭建网关</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_XRV4" itemprop="headline">Using the Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication</h1><div class="blogPostData_cftJ margin-vert--md"><time datetime="2021-08-16T00:00:00.000Z" itemprop="datePublished">2021年8月16日</time> · One min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_qo3C"><div class="avatar margin-bottom--sm"><a href="https://github.com/starsz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_dLSm" src="https://avatars.githubusercontent.com/u/25628854?v=4" alt="Peter Zhu"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/starsz" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Peter Zhu</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>This blog shows the procedures of using Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication. This blog contains conceptual introductions of Apache APISIX and Okta Centralized Authentication, and detailed step-by-step instructions.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="introducing-apache-apisix"></a>Introducing Apache APISIX<a class="hash-link" href="#introducing-apache-apisix" title="Direct link to heading">#</a></h2><p><a href="https://github.com/apache/apisix" target="_blank" rel="noopener noreferrer">Apache APISIX</a> is a dynamic, real-time, high-performance API gateway, providing rich traffic management. The project offers load balancing, dynamic upstream, canary release, circuit breaking, authentication, observability, and many useful plugins. In addition, the gateway supports dynamic plugin changes along with hot-plugging. The OpenID Connect plugin for Apache APISIX allows users to replace traditional authentication mode with centralized identity authentication mode via OpenID Connect.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="introducing-okta"></a>Introducing Okta<a class="hash-link" href="#introducing-okta" title="Direct link to heading">#</a></h2><p>Okta is a trusted platform to secure every identity. It is a customizable, secure, and drop-in solution to add authentication and authorization services to your applications. More than 10,650 organizations trust Okta’s software and APIs to sign in, authorize and manage users.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="what-is-identity-authentication"></a>What Is Identity Authentication<a class="hash-link" href="#what-is-identity-authentication" title="Direct link to heading">#</a></h2><p>Identity Authentication verifies a user&#x27;s identity by specific means. We obtain detailed user metadata from the Identity Provider (IdP) to determine whether a user has access to particular resources.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="identity-authentication-modes"></a>Identity Authentication Modes<a class="hash-link" href="#identity-authentication-modes" title="Direct link to heading">#</a></h2><p>There are two main categories of identity authentication: <em>traditional mode</em> and <em>centralized mode</em>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="traditional-authentication-mode"></a>Traditional Authentication Mode<a class="hash-link" href="#traditional-authentication-mode" title="Direct link to heading">#</a></h3><p>In the traditional authentication mode, each application service needs to support authentication separately, such as accessing the login interface when the user is not logged in. The interface returns a 301 jump page. All application services need to develop the logic to maintain the session and interact with the identity provider for authentication.</p><p>You can see the flow of traditional authentication in the figure below.</p><p>First, the user initiates a request, then the gateway receives the request and forwards it to the corresponding application services, and finally, the application services interact with the identity provider to complete the authorization.</p><p></p><div class="rc-image"><img alt="traditional authentication work flow" class="rc-image-img" src="https://static.apiseven.com/202108/1639467045776-715e1805-540b-4cef-87c5-6166e2af43a8.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="centralized-identity-authentication-mode"></a>Centralized Identity Authentication Mode<a class="hash-link" href="#centralized-identity-authentication-mode" title="Direct link to heading">#</a></h3><p>Unlike traditional authentication, the centralized identity mode removes user authentication from the application services. Take Apache APISIX as an example; you can see the centralized identity authentication process in the figure below.</p><p>First, the user initiates a request, then the gateway itself takes charge of the user authentication process, interacting with the identity provider and sending them an authorization request. The identity provider returns user identity information (user info). After the gateway identifies the user, it forwards the user identity information (user info) to the services in a request header.</p><p></p><div class="rc-image"><img alt="Centralized Identity Authentication work flow" class="rc-image-img" src="https://static.apiseven.com/202108/1639467122244-d4292436-c5ce-48f6-b1d5-67645f24fbc9.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>Compared with the traditional authentication mode, centralized identity mode has the following advantages:</p><ol><li>Centralized auth simplifies the application development process, and reduces the development application workload and maintenance costs by avoiding the need to repeat the development of authentication code for each application.</li><li>Centralized authentication mode improves business security. At the gateway level, it can intercept unauthenticated requests in time to protect back-end applications.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="what-is-openid-connect"></a>What is OpenID Connect<a class="hash-link" href="#what-is-openid-connect" title="Direct link to heading">#</a></h2><p>OpenID Connect (OIDC) is a centralized identity authentication mode. The benefit of using OpenID Connect is that users only need to register and log in with one OpenID Connect identity provider&#x27;s website and use one account’s password information to access different applications. <a href="https://developer.okta.com/" target="_blank" rel="noopener noreferrer">Okta</a> is a common OpenID Connect identity provider, and the Apache APISIX OpenID Connect plugin supports OpenID. As a result, the plugin can replace traditional authentication mode with centralized identity authentication. In this case, we’re using Okta.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="openid-authentication-process"></a>OpenID Authentication Process<a class="hash-link" href="#openid-authentication-process" title="Direct link to heading">#</a></h3><p></p><div class="rc-image"><img alt="OpenID Authentication Process" class="rc-image-img" src="https://static.apiseven.com/202108/1639467187923-71854ddb-65fd-4a90-8bd0-242b47a8624b.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><ol><li>APISIX initiates an authentication request to the Identity Provider.</li><li>The user logs in and authenticates on the Identity Provider.</li><li>The Identity Provider returns to APISIX with the Authorization Code.</li><li>APISIX requests the Identity Provider with the Code extracted from the request parameters.</li><li>The Identity Provider sends an answer message to APISIX with the ID Token and Access Token.</li><li>APISIX sends the Access Token to the Identity Provider&#x27;s User Endpoint for authentication.</li><li>After passing the authentication, the User Endpoint sends the User Info to APISIX to complete authentication.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="how-to-configure-okta-authentication-using-the-apache-apisix-openid-connect-plug-in"></a>How to Configure Okta Authentication Using the Apache APISIX OpenID Connect Plug-in<a class="hash-link" href="#how-to-configure-okta-authentication-using-the-apache-apisix-openid-connect-plug-in" title="Direct link to heading">#</a></h2><p>Configuring Okta authentication using the Apache APISIX OpenID Connect plugin is a simple three-step process that allows you to switch from traditional authentication to centralized identity authentication mode. The following sections describe the steps to configure Okta authentication using the OpenID Connect plug-in for Apache APISIX.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h3><p>Have an Okta account ready for use.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="step-1-configuring-okta"></a>Step 1: Configuring Okta<a class="hash-link" href="#step-1-configuring-okta" title="Direct link to heading">#</a></h3><ol><li>Log in to your Okta account and click &quot;Create App Integration&quot; to create an Okta application.
<div class="rc-image"><img alt="Create App Integration" class="rc-image-img" src="https://static.apiseven.com/202108/1639467243454-ac16645a-4a8a-426f-93a2-e840cae3c502.png"><div class="rc-image-mask">Click to Preview</div></div></li><li>Select &quot;OIDC-OpenID Connect&quot; for the Sign-in method, and select &quot;Web Application&quot; for the Application type.
<div class="rc-image"><img alt="Create a new App Integration" class="rc-image-img" src="https://static.apiseven.com/202108/1639467299429-0ea741a7-95fd-43b5-a0c4-25a7026e62d2.png"><div class="rc-image-mask">Click to Preview</div></div></li><li>Set the redirect URL for login and logout. The &quot;Sign-in redirect URIs&quot; are links a user can go to after a successful login, and the &quot;Sign-out redirect URIs&quot; are links a user goes to after a successful logout. In this example, we set both sign-in and sign-out redirect URIs to <code>http://127.0.0.1:9080/</code>.
<div class="rc-image"><img alt="Set the redirect URL for login and logout" class="rc-image-img" src="https://static.apiseven.com/202108/1639467390099-e9594a05-7e78-4f20-a902-7c4ca2c302fb.png"><div class="rc-image-mask">Click to Preview</div></div></li><li>After finishing the settings, click &quot;Save&quot; to save the changes.
<div class="rc-image"><img alt="save the changes" class="rc-image-img" src="https://static.apiseven.com/202108/1639467449049-628d7796-0d8e-4ed9-8334-5ba7f0fb32f4.png"><div class="rc-image-mask">Click to Preview</div></div></li><li>Visit the General page of the application to obtain the following configuration, which is required to configure Apache APISIX OpenID Connect.</li></ol><ul><li>Client ID: OAuth client ID, the application ID, which corresponds to client_id and {YOUR_CLIENT_ID} below.</li><li>Client secret: OAuth client secret, the application key, which corresponds to client_secret and {YOUR_CLIENT_SECRET} below.</li><li>Okta domain: The domain name used by the application, corresponding to {YOUR_ISSUER} below.</li></ul><p></p><div class="rc-image"><img alt="obtain configuration" class="rc-image-img" src="https://static.apiseven.com/202108/1639467501106-d95bf8ad-db47-4918-ac70-424b12488e5b.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="step-2-install-apache-apisix"></a>Step 2: Install Apache APISIX<a class="hash-link" href="#step-2-install-apache-apisix" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="install-dependencies"></a>Install dependencies<a class="hash-link" href="#install-dependencies" title="Direct link to heading">#</a></h4><p>The Apache APISIX runtime environment requires dependencies on NGINX and etcd.</p><p>Before installing Apache APISIX, please install dependencies according to the operating system you are using. We provide the dependencies installation instructions for CentOS7, Fedora 31 and 32, Ubuntu 16.04 and 18.04, Debian 9 and 10, and macOS. Please refer to <a href="https://apisix.apache.org/docs/apisix/install-dependencies/" target="_blank" rel="noopener noreferrer">Install Dependencies</a> for more details.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="installation-via-rpm-package-centos-7"></a>Installation via RPM Package (CentOS 7)<a class="hash-link" href="#installation-via-rpm-package-centos-7" title="Direct link to heading">#</a></h4><p>This installation method is suitable for CentOS 7; please run the following command to install Apache APISIX.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y https://github.com/apache/apisix/releases/download/2.7/apisix-2.7-0.x86_64.rpm</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="installation-via-docker"></a>Installation via Docker<a class="hash-link" href="#installation-via-docker" title="Direct link to heading">#</a></h4><p>Please refer to <a href="https://hub.docker.com/r/apache/apisix" target="_blank" rel="noopener noreferrer">Installing Apache APISIX with Docker</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="installation-via-helm-chart"></a>Installation via Helm Chart<a class="hash-link" href="#installation-via-helm-chart" title="Direct link to heading">#</a></h4><p>Please refer to <a href="https://github.com/apache/apisix-helm-chart" target="_blank" rel="noopener noreferrer">Installing Apache APISIX with Helm Chart</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="installation-via-source-release"></a>Installation via source release<a class="hash-link" href="#installation-via-source-release" title="Direct link to heading">#</a></h4><ol><li>Create a directory named <code>apisix-2.7</code>.</li></ol><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> apisix-2.7</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><ol start="2"><li>Download Apache APISIX Release source package.</li></ol><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://downloads.apache.org/apisix/2.7/apache-apisix-2.7-src.tgz</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><p>You can also download the Apache APISIX release source package from the Apache APISIX website. The <a href="https://apisix.apache.org/downloads/" target="_blank" rel="noopener noreferrer">Apache APISIX Official Website - Download Page</a> also provides source packages for Apache APISIX, APISIX Dashboard, and APISIX Ingress Controller.</p><ol start="3"><li>Unzip the Apache APISIX Release source package.</li></ol><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> zxvf apache-apisix-2.7-src.tgz -C apisix-2.7</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><ol start="4"><li>Install the runtime-dependent Lua libraries.</li></ol><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Switch to the apisix-2.7 directory</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> apisix-2.7</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create dependencies</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> deps</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="initializing-dependencies"></a>Initializing Dependencies<a class="hash-link" href="#initializing-dependencies" title="Direct link to heading">#</a></h4><p>Run the following command to initialize the NGINX configuration file and etcd.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># initialize NGINX config file and etcd</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> init</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="step-3-start-apache-apisix-and-configure-the-corresponding-route"></a>Step 3: Start Apache APISIX and Configure the Corresponding Route<a class="hash-link" href="#step-3-start-apache-apisix-and-configure-the-corresponding-route" title="Direct link to heading">#</a></h3><ol><li>Run the following command to start Apache APISIX.</li></ol><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">apisix start</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><ol start="2"><li>Create a route and configure the OpenID Connect plugin. The following code example creates a route through the Apache APISIX Admin API, setting the upstream path to httpbin.org, a simple backend service for receiving and responding to requests. The following will use the get page of httpbin.org. Please refer to <a href="http://httpbin.org/#/HTTP_Methods/get_get" target="_blank" rel="noopener noreferrer">http bin get</a> for more information. For specific configuration items, please refer to the <a href="https://apisix.apache.org/docs/apisix/plugins/openid-connect/" target="_blank" rel="noopener noreferrer">Apache APISIX OpenID Connect Plugin</a>.</li></ol><p>The OpenID Connect configuration fields are listed below:</p><table><thead><tr><th align="left">Field</th><th align="left">Default Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">client_id</td><td align="left">&quot;&quot;</td><td align="left">OAuth client ID.</td></tr><tr><td align="left">client_secret</td><td align="left">&quot;&quot;</td><td align="left">OAuth client secret.</td></tr><tr><td align="left">discovery</td><td align="left">&quot;&quot;</td><td align="left">Service discovery endpoints for identity providers.</td></tr><tr><td align="left">scope</td><td align="left">openid</td><td align="left">Scope of resources to be accessed.</td></tr><tr><td align="left">relm</td><td align="left">apisix</td><td align="left">Specify the WWW-Authenticate response header authentication information.</td></tr><tr><td align="left">bearer_only</td><td align="left">false</td><td align="left">Whether to check the token in the request header.</td></tr><tr><td align="left">logout_path</td><td align="left">/logout</td><td align="left">Log out URI.</td></tr><tr><td align="left">redirect_uri</td><td align="left">request_uri</td><td align="left">The URI that the identity provider redirects back to, defaulting to the request address.</td></tr><tr><td align="left">timeout</td><td align="left">3</td><td align="left">Request timeout time, the unit is defined in seconds.</td></tr><tr><td align="left">ssl_verify</td><td align="left">false</td><td align="left">Verify the identity provider&#x27;s SSL certificate.</td></tr><tr><td align="left">introspection_endpoint</td><td align="left">&quot;&quot;</td><td align="left">The URL of the identity provider&#x27;s token authentication endpoint, which will be extracted from the discovery, response if left blank.</td></tr><tr><td align="left">introspection_endpoint_auth_method</td><td align="left">client_secret_basic</td><td align="left">Name of the authentication method for token introspection.</td></tr><tr><td align="left">public_key</td><td align="left">&quot;&quot;</td><td align="left">Public key for an authentication token.</td></tr><tr><td align="left">token_signing_alg_values_expected</td><td align="left">&quot;&quot;</td><td align="left">Algorithm for authentication tokens.</td></tr><tr><td align="left">set_access_token_header</td><td align="left">true</td><td align="left">Whether to carry the access token in the request header.</td></tr><tr><td align="left">access_token_in_authorization_header</td><td align="left">false</td><td align="left">Whether to put an access token in the Authorization header. The access token is placed in the Authorization header when this value is set to true and in the X-Access-Token header when it is set to false.</td></tr><tr><td align="left">set_id_token_header</td><td align="left">true</td><td align="left">Whether to carry the ID token in the X-ID-Token request header.</td></tr><tr><td align="left">set_userinfo_header</td><td align="left">true</td><td align="left">Whether to carry user information in the X-Userinfo request header.</td></tr></tbody></table><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain">  -XPOST </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:9080/apisix/admin/routes -H </span><span class="token string" style="color:#e3116c">&quot;X-Api-Key: edd1c9f034335f136f87ad84b625c8f1&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:#e3116c">&#x27;{</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;uri&quot;:&quot;/*&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;plugins&quot;:{</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;openid-connect&quot;:{</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;client_id&quot;:&quot;{YOUR_CLIENT_ID}&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;client_secret&quot;:&quot;{YOUR_CLIENT_SECRET}&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;discovery&quot;:&quot;https://{YOUR_ISSUER}/.well-known/openid-configuration&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;scope&quot;:&quot;openid profile&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;bearer_only&quot;:false,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;realm&quot;:&quot;master&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;introspection_endpoint_auth_method&quot;:&quot;client_secret_post&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;redirect_uri&quot;:&quot;http://127.0.0.1:9080/&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    },</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;upstream&quot;:{</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;type&quot;:&quot;roundrobin&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;nodes&quot;:{</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;httpbin.org:80&quot;:1</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="step-4-access-apache-apisix"></a>Step 4: Access Apache APISIX<a class="hash-link" href="#step-4-access-apache-apisix" title="Direct link to heading">#</a></h3><ol><li>Visit &quot;<a href="http://127.0.0.1:9080/get%22" target="_blank" rel="noopener noreferrer">http://127.0.0.1:9080/get&quot;</a> and the page is redirected to the Okta login page because the OpenID Connect plugin is enabled.
<div class="rc-image"><img alt="visit Okta login page" class="rc-image-img" src="https://static.apiseven.com/202108/1639467566395-2a049b96-3b1f-4e74-93f0-d6ea2f52a72e.png"><div class="rc-image-mask">Click to Preview</div></div></li><li>Enter the username and password for the user&#x27;s Okta account and click &quot;Sign In&quot; to log in to your Okta account.</li><li>After successful login, you can access the get page in &quot;httpbin.org&quot;. The &quot;httpbin.org/get&quot; page will return the requested data with X-Access-Token,X-Id-Token, and X-Userinfo as follows.</li></ol><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O sh"><pre tabindex="0" class="prism-code language-sh codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;X-Access-Token&quot;: &quot;******Y0RPcXRtc0FtWWVuX2JQaFo1ZVBvSlBNdlFHejN1dXY5elV3IiwiYWxnIjoiUlMyNTYifQ.***TVER3QUlPbWZYSVRzWHRxRWh2QUtQMWRzVDVGZHZnZzAiLCJpc3MiOiJodHRwczovL3FxdGVzdG1hbi5va3RhLmNvbSIsImF1ZCI6Imh0dHBzOi8vcXF0ZXN0bWFuLm9rdGEuY29tIiwic3ViIjoiMjgzMDE4Nzk5QHFxLmNvbSIsImlhdCI6MTYyODEyNjIyNSwiZXhwIjoxNjI4MTI5ODI1LCJjaWQiOiIwb2ExMWc4ZDg3TzBGQ0dYZzY5NiIsInVpZCI6IjAwdWEwNWVjZEZmV0tMS3VvNjk1Iiwic2NwIjpbIm9wZW5pZCIsInByb2Zpb***.****iBshIcJhy8QNvzAFD0fV4gh7OAdTXFMu5k0hk0JeIU6Tfg_Mh-josfap38nxRN5hSWAvWSk8VNxokWTf1qlaRbypJrKI4ntadl1PrvG-HgUSFD0JpyqSQcv10TzVeSgBfOVD-czprG2Azhck-SvcjCNDV-qc3P9KoPQz0SRFX0wuAHWUbj1FRBq79YnoJfjkJKUHz3uu7qpTK89mxco8iyuIwB8fAxPMoXjIuU6-6Bw8kfZ4S2FFg3GeFtN-vE9bE5vFbP-JFQuwFLZNgqI0XO2S7l7Moa4mWm51r2fmV7p7rdpoNXYNerXOeZIYysQwe2_L****&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;X-Id-Token&quot;: &quot;******aTdDRDJnczF5RnlXMUtPZUtuSUpQdyIsImFtciI6WyJwd2QiXSwic3ViIjoiMDB1YTA1ZWNkRmZXS0xLdW82OTUiLCJpc3MiOiJodHRwczpcL1wvcXF0ZXN0bWFuLm9rdGEuY29tIiwiYXVkIjoiMG9hMTFnOGQ4N08wRkNHWGc2OTYiLCJuYW1lIjoiUGV0ZXIgWmh1IiwianRpIjoiSUQuNGdvZWo4OGUyX2RuWUI1VmFMeUt2djNTdVJTQWhGNS0tM2l3Z0p5TTcxTSIsInZlciI6MSwicHJlZmVycmVkX3VzZXJuYW1lIjoiMjgzMDE4Nzk5QHFxLmNvbSIsImV4cCI6MTYyODEyOTgyNSwiaWRwIjoiMDBvYTA1OTFndHAzMDhFbm02OTUiLCJub25jZSI6ImY3MjhkZDMxMWRjNGY3MTI4YzlmNjViOGYzYjJkMDgyIiwiaWF0IjoxNjI4MTI2MjI1LCJhdXRoX3RpbWUi*****&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;X-Userinfo&quot;: &quot;*****lfbmFtZSI6IlpodSIsImxvY2FsZSI6ImVuLVVTIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiMjgzMDE4Nzk5QHFxLmNvbSIsInVwZGF0ZWRfYXQiOjE2MjgwNzA1ODEsInpvbmVpbmZvIjoiQW1lcmljYVwvTG9zX0FuZ2VsZXMiLCJzdWIiOiIwMHVhMDVlY2RGZldLTEt1bzY5NSIsImdpdmVuX25hbWUiOiJQZXRlciIsIm5hbWUiOiJQZXRl****&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><p><strong>X-Access-Token</strong>: Apache APISIX puts the access token obtained from the user provider into the X-Access-Token request header, optionally via the access_token_in_authorization_header in the plugin configuration Authorization request header.</p><p></p><div class="rc-image"><img alt="X-Access-Token" class="rc-image-img" src="https://static.apiseven.com/202108/1639467626264-980605e2-0b21-4512-9e2c-af71950fcf99.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p><strong>X-Id-Token</strong>: Apache APISIX will get the Id token from the user provider through the base64 encoding into the X-Id-Token request header, you can choose whether to enable this function through the set_id_token_header in the plugin configuration, the default is enabled.</p><p></p><div class="rc-image"><img alt="X-Id-Token" class="rc-image-img" src="https://static.apiseven.com/202108/1639467682902-ada726b8-b46b-460d-8313-ef47b38d13ab.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p><strong>X-Userinfo</strong>: Apache APISIX will get the user information from the user provider and put it into X-Userinfo after encoding it with Base64, you can choose whether to enable this feature through set_userinfo_header in the plugin configuration, it is set to be on by default.</p><p></p><div class="rc-image"><img alt="X-Userinfo" class="rc-image-img" src="https://static.apiseven.com/202108/1639467730566-fc8a8a76-a3aa-4b8e-bb13-505b50839877.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>As you can see, Apache APISIX will carry the X-Access-Token, X-Id-Token, and X-Userinfo request headers to the upstream. The upstream can parse these headers to get the user IDid information and user metadata.</p><p>We have shown the process of building centralized identity authentication from Okta directly into the Apache APISIX Gateway. It is easy to sign up for a free Okta Developer Account to get started. Our approach reduces developer overhead and enables a safe and streamlined experience.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="about-okta"></a>About Okta<a class="hash-link" href="#about-okta" title="Direct link to heading">#</a></h2><p>Okta is a customizable, secure, and drop-in solution to add authentication and authorization services to your applications. Get scalable authentication built right into your application without the development overhead, security risks, and maintenance that come from coding it yourself. You can connect any application in any language or on any stack to Okta and define how you want your users to sign in. Each time a user tries to authenticate, Okta will verify their identity and send the required information back to your app.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="about-apache-apisix"></a>About Apache APISIX<a class="hash-link" href="#about-apache-apisix" title="Direct link to heading">#</a></h2><p>Apache APISIX is a dynamic, real-time, high-performance API gateway. Apache APISIX provides rich traffic management features such as load balancing, dynamic upstream, canary release, circuit breaking, authentication, observability, and more. You can use Apache APISIX to handle traditional north-south traffic, as well as east-west traffic between services. It can also be used as a k8s ingress controller.</p><p>Hundreds of companies worldwide have used Apache APISIX, covering finance, internet, manufacturing, retail, operators, such as NASA, the European Union’s Digital Factory, TravelSky, Tencent, Huawei, Weibo, China Mobile, Taikang, 360 , etc.</p><p>Github: <a href="https://github.com/apache/apisix" target="_blank" rel="noopener noreferrer">https://github.com/apache/apisix</a></p><p>Website: <a href="https://apisix.apache.org" target="_blank" rel="noopener noreferrer">https://apisix.apache.org</a></p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_GzFC"><div class="col"><b>Tags:</b><ul class="tags_5N4j padding--none margin-left--sm"><li class="tag_LKyA"><a class="tag_JoRF tagRegular_BENv" href="/zh/blog/tags/practical-case">Practical Case</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh/blog/2021/08/17/interview-airwallex"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« Apache APISIX 在 Airwallex 的应用 | 专访 Airwallex 技术平台负责人李杨</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh/blog/2021/08/14/contributors-the-golden-metric-of-opensource-projects"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">贡献者，是衡量开源项目的金指标 »</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_thVJ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introducing-apache-apisix" class="table-of-contents__link">Introducing Apache APISIX</a></li><li><a href="#introducing-okta" class="table-of-contents__link">Introducing Okta</a></li><li><a href="#what-is-identity-authentication" class="table-of-contents__link">What Is Identity Authentication</a></li><li><a href="#identity-authentication-modes" class="table-of-contents__link">Identity Authentication Modes</a><ul><li><a href="#traditional-authentication-mode" class="table-of-contents__link">Traditional Authentication Mode</a></li><li><a href="#centralized-identity-authentication-mode" class="table-of-contents__link">Centralized Identity Authentication Mode</a></li></ul></li><li><a href="#what-is-openid-connect" class="table-of-contents__link">What is OpenID Connect</a><ul><li><a href="#openid-authentication-process" class="table-of-contents__link">OpenID Authentication Process</a></li></ul></li><li><a href="#how-to-configure-okta-authentication-using-the-apache-apisix-openid-connect-plug-in" class="table-of-contents__link">How to Configure Okta Authentication Using the Apache APISIX OpenID Connect Plug-in</a><ul><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#step-1-configuring-okta" class="table-of-contents__link">Step 1: Configuring Okta</a></li><li><a href="#step-2-install-apache-apisix" class="table-of-contents__link">Step 2: Install Apache APISIX</a></li><li><a href="#step-3-start-apache-apisix-and-configure-the-corresponding-route" class="table-of-contents__link">Step 3: Start Apache APISIX and Configure the Corresponding Route</a></li><li><a href="#step-4-access-apache-apisix" class="table-of-contents__link">Step 4: Access Apache APISIX</a></li></ul></li><li><a href="#about-okta" class="table-of-contents__link">About Okta</a></li><li><a href="#about-apache-apisix" class="table-of-contents__link">About Apache APISIX</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ASF</div><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/events/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/apisix/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/docs/general/join">Slack</a></li><li class="footer__item"><a href="https://twitter.com/ApacheAPISIX" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCgPD18cMhOg5rmPVnQhAC8g" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/showcase">Showcase</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/plugins">Plugin Hub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_fkq+"><img src="https://static.apiseven.com/202202/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_3EHU themedImage--light_heW6 footer__logo"><img src="https://static.apiseven.com/202202/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_3EHU themedImage--dark_6pZL footer__logo"></a></div><div class="footer__copyright">Copyright © 2019-2022 The Apache Software Foundation. Apache APISIX, APISIX®, Apache, the Apache feather logo, and the Apache APISIX project logo are either registered trademarks or trademarks of the Apache Software Foundation.</div></div></div></footer></div>
<script src="https://apisix-website-static.apiseven.com/zh/assets/js/runtime~main.7eccae1e.js"></script>
<script src="https://apisix-website-static.apiseven.com/zh/assets/js/main.2db8c3d8.js"></script>
</body>
<script>window.onload=function(){window.location.host.endsWith(".netlify.app")&&document.querySelector("#__docusaurus").insertAdjacentHTML("afterend",'<div style="text-align: right;padding: 48px 32px 48px 0;">This site is powered by <a href="https://www.netlify.com/" target="_blank">Netlify</a></div>')}</script>
</html>