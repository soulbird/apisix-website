<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="ahrefs-site-verification" content="c2f7370ecf46173f4fb25f114e74c97e0a2976d4f02f61c9b00a9d7d34e34698">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache APISIX® -- Cloud-Native API Gateway Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache APISIX® -- Cloud-Native API Gateway Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-K24PRPS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-K24PRPS",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Apache APISIX® -- Cloud-Native API Gateway" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/articles/rss.xml" title="Apache APISIX® -- Cloud-Native API Gateway Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/articles/atom.xml" title="Apache APISIX® -- Cloud-Native API Gateway Blog Atom Feed"><title data-react-helmet="true">How to Write an Apache APISIX Plugin in Java | Apache APISIX® -- Cloud-Native API Gateway</title><meta data-react-helmet="true" property="og:image" content="https://static.apiseven.com/202202/apache-apisix.png"><meta data-react-helmet="true" name="twitter:image" content="https://static.apiseven.com/202202/apache-apisix.png"><meta data-react-helmet="true" property="og:url" content="https://apisix.apache.org/blog/2021/06/21/use-java-to-write-apache-apisix-plugins"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" name="robots" content="index,follow"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="How to Write an Apache APISIX Plugin in Java | Apache APISIX® -- Cloud-Native API Gateway"><meta data-react-helmet="true" name="description" content="Apache APISIX now supports writing plugins in Java! You can now write plugins in a programming language you are familiar with."><meta data-react-helmet="true" property="og:description" content="Apache APISIX now supports writing plugins in Java! You can now write plugins in a programming language you are familiar with."><meta data-react-helmet="true" name="keywords" content="APISIX,Apache APISIX,Java,plugin"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-06-21T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/tzssangglass"><meta data-react-helmet="true" property="article:tag" content="Practical Case"><link data-react-helmet="true" rel="shortcut icon" href="https://static.apiseven.com/202202/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://apisix.apache.org/blog/2021/06/21/use-java-to-write-apache-apisix-plugins"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2021/06/21/use-java-to-write-apache-apisix-plugins" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/zh/blog/2021/06/21/use-java-to-write-apache-apisix-plugins" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2021/06/21/use-java-to-write-apache-apisix-plugins" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://38VC84A2WJ-dsn.algolia.net" crossorigin="anonymous"><link rel="preload" href="https://apisix-website-static.apiseven.com/assets/js/runtime~main.f3244aab.js" as="script">
<link rel="preload" href="https://apisix-website-static.apiseven.com/assets/js/main.86bd6361.js" as="script">
<link rel="stylesheet" href="https://apisix-website-static.apiseven.com/assets/css/styles.355196a5.css">

<script>var _paq=window._paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://analytics.apache.org/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","17"]);var e=document,p=e.createElement("script"),t=e.getElementsByTagName("script")[0];p.async=!0,p.src=a+"matomo.js",t.parentNode.insertBefore(p,t)}()</script>

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_QVmC">Skip to main content</a></div><div class="announcementBar_gVRT" style="background-color:#e8433e;color:white" role="banner"><div class="announcementBarPlaceholder_csWV"></div><div class="announcementBarContent_2kKG">🤔 Have queries regarding API Gateway? Join Slack channel to discuss <a target="_blank" rel="noopener noreferrer" href="/docs/general/join">join #apisix channel</a>! ⭐️</div><button type="button" class="clean-btn close announcementBarClose_EDEK" aria-label="Close"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"></path></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_IWhJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo2.svg" alt="Apache APISIX®" class="themedImage_3EHU themedImage--light_heW6 navbar__logo"><img src="/img/logo2.svg" alt="Apache APISIX®" class="themedImage_3EHU themedImage--dark_6pZL navbar__logo"><b class="navbar__title">Apache APISIX®</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/apisix/getting-started">Apache APISIX®️</a></li><li><a class="dropdown__link" href="/docs/dashboard/USER_GUIDE">Apache APISIX®️ Dashboard</a></li><li><a class="dropdown__link" href="/docs/ingress-controller/getting-started/">Apache APISIX®️ Ingress Controller</a></li><li><a class="dropdown__link" href="/docs/helm-chart/apisix/">Apache APISIX®️ Helm Charts</a></li><li><a class="dropdown__link" href="/docs/docker/build/">Apache APISIX®️ Docker</a></li><li><a class="dropdown__link" href="/docs/java-plugin-runner/development/">Apache APISIX®️ Java Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/go-plugin-runner/getting-started/">Apache APISIX®️ Go Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/python-plugin-runner/getting-started/">Apache APISIX®️ Python Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/general/join">General</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/blog/tags/user-case">Case Studies</a><a class="navbar__item navbar__link" href="/downloads">Downloads</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/team">Team</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/showcase">Showcase</a></li><li><a class="dropdown__link" href="/plugins">PluginHub</a></li><li><a class="dropdown__link" href="/docs/general/join">Community</a></li><li><a class="dropdown__link" href="/docs/general/events">Events</a></li></ul></div><div class="react-toggle toggle_pM6S react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_5Cll">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_5Cll">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_xkIr"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_drON thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_+zDs margin-bottom--md">All posts</div><ul class="sidebarItemList_L38e"><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/21/weekly-report-0621">Biweekly Report (Jun 1 - Jun 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/automated-operation-base-apache-apisix">Build automated operation platform based on Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/beeto-with-apache-apisix">Practice of localized application with API gateway in the Middle East</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/how-mse-supports-canary-release-with-apache-apisix">Implementation of canary release solution based on Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/xueqiu-with-apache-apisix">Architecture evolution of investment platforms with API gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/07/installation-performance-test-of-apigateway-apisix-on-aws-graviton3">Installation and performance testing of API Gateway Apache APISIX on AWS Graviton3</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/07/weekly-report-0607">Biweekly Report｜Explore the weeks of May 16th - May 31th</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/31/release-apache-apisix-2.14">Release Apache APISIX 2.14.1</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/19/weekly-report-0519">Biweekly Report (May 1 - May 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/10/weekly-report-0510">Biweekly Report (Apr 15 - Apr 30)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/29/interview-juzhiyuan-apache-member">Interview with JU Zhiyuan: Becoming One of the 918 ASF Members, I Felt Thrilled and Proud</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/22/apisix-with-tidb-practice">High Availability Configuration with TiDB and APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/20/cve-2022-29266">The Vulnerability of Leaking Information in Error Response from jwt-auth Plugin（CVE-2022-29266）</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/20/weekly-report-0420">Biweekly Report (Apr 1 - Apr 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/17/api-observability">API Observability with APISIX Plugins</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/12/apisix-summit-asia-2022">Apache APISIX Summit ASIA 2022: API Gateway, Service Mesh and Open Source Ecology</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/28/release-apache-apisix-2.13">Apache APISIX 2.13.0 Is Released, Bringing LTS and New Features</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/24/weekly-report-0314">Biweekly Report｜Explore the weeks of Mar 1st - Mar 14th</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/05/apisix-integration-eureka-service-discovery">Integrate API Gateway with Eureka</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/04/apigateway-clickhouse-makes-logging-easier">APISIX Integrates ClickHouse to Improve Log Efficiency</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery">Apache APISIX and CoreDNS open new doors for service discovery</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/03/develop-apisix-with-gitpod">How to Use Gitpod to Develop API Gateway?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/03/weekly-report-0228">Biweekly Report｜Explore the week of Feb 15 - Feb 28</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/02/apisix-integration-graphql-plugin">Use GraphQL with API Gateway Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/02/zhongan-usercase-with-apache-apisix">Implement Traffic Governance in Internet Insurance with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/01/apisix-integration-public-api-plugin">API Gateway Apache APISIX provides enhancements on API Management</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/28/apisix-integration-opentelemetry-plugin">Upgrade of observability capabilities, API Gateway Apache APISIX integrates OpenTelemetry</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/25/consul-api-gateway">How to Integrate API Gateway and Consul?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/23/csrf-api-gateway">API Gateway Enhances Security by CSRF Plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/21/nacos-api-gateway">The practice of Nacos service discovery on API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/17/weekly-report-0214">Biweekly Report (Feb 1 - Feb 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/16/file-logger-api-gateway">file logger practice in API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/11/cve-2022-24112">Apache APISIX Vulnerability for Rewriting X-REAL-IP Header (CVE-2022-24112)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/10/splunk-apisix-integration">Integrating Splunk HTTP Event Collector with API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/26/apisix-integrate-forward-auth-plugin">forward-auth Plugin for Authentication Function</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/25/apisix-grpc-web-integration">Integrate Apache APISIX with gRPC-Web</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/25/release-apache-apisix-2.12">Apache APISIX 2.12.0 is Released, More Features Coming！</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/24/apisix-with-qingcloud-meetup">Webinar | APISIX in QingCloud! </a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/21/apisix-hashicorp-vault-integration">HashiCorp Vault Secure Storage Backend in Apache APISIX Ecosystem</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/21/apisix-xrpc-details-and-miltilingual">Get More Details About xRPC</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/20/upyun-public-gateway-usecase">The Practice of Public Gateway in CDN Scenario from UPYUN</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/19/weekly-report-0116">Biweekly Report (Jan 1 - Jan 16)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/17/apisix-kafka-integration">APISIX integrate with Kafka for real-time log monitoring</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/13/how-to-proxy-dubbo-in-apache-apisix">Makes it More Convenient for You to Proxy Dubbo Services in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/11/apisix-with-shardingsphere-meetup">Webinar | From API to Database</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/11/building-apisix-in-ubuntu-for-arm">How to build APISIX in ARM Ubuntu</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/05/weekly-report-1231">Biweekly Report (Dec 16 - Dec 31)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/04/authing">Use APISIX and Authing to implement centralized authentication Management</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/30/apisix-proxy-grpc-service">Use API gateway to proxy gRPC service</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/28/dashboard-cve-2021-45232">Apache APISIX Dashboard Unauthorized Access Vulnerability Announcement (CVE-2021-45232)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/24/apisix-integrate-openwhisk-plugin">Coming soon! Apache APISIX Integrate with Apache OpenWhisk</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/24/open-policy-agent">Apache APISIX integrates with Open Policy Agent</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/22/google-logging">APISIX Integrates with Google Cloud Logging</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/20/weekly-report-1215">Biweekly Report (Dec 1 - Dec 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/17/exposure-istio-with-apisix-ingress">Secure Exposure of Istio Services with APISIX Ingress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/16/apisix-with-rocketmq-meetup">Webinar | Apache APISIX × Apache RocketMQ Online Meetup</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/15/deploy-apisix-in-kubernetes">How to Easily Deploy Apache APISIX in Kubernetes</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/13/monitor-apisix-ingress-controller-with-prometheus">Monitor APISIX Ingress Controller with Prometheus</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/10/integrate-keycloak-auth-in-apisix">How to Integrate Keycloak for Authentication with Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/08/apisix-integrate-rocketmq-logger-plugin">Apache APISIX &amp; RocketMQ Help API Log Monitoring Capabilities</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/07/apisix-integrate-skywalking-plugin">Apache APISIX Integrates with SkyWalking to Create a Full Range of Log Processing</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/02/weekly-report-1130">Biweekly Report｜11.15-11.30 Feature Highlights Update in Progress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/01/apisix-supports-azure-functions">Apache APISIX&#x27;s integration with Azure Serverless</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/01/release-apache-apisix-2.11">Apache APISIX 2.11.0 is officially released with more new features</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/30/use-apisix-ingress-in-kubesphere">Using Apache APISIX Ingress Gateway to access Custom Monitoring in KubeSphere</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/26/apache-apisix-committer-experience">Contributer to Committer journey @Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/23/cve-2021-43557-research-report">APISIX request_uri variable with risk of path penetration</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/23/cve-2021-43557">Apache APISIX Path traversal in request_uri variable(CVE-2021-43557)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/22/develop-apisix-ingress-with-nocalhost-in-kubernetes">Develop APISIX Ingress Controller with Nocalhost in K8s</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/19/apisix-supports-wasm">Apache APISIX embraces the WASM ecosystem</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/17/dapr-with-apisix">How to integrate with Dapr to build Apache APISIX Gateway Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/16/weekly-report-1114">Weekly Report (Sep 1 - Sep 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/12/apisix-datadog">Cloud Monitoring with Datadog in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/04/skywalking">The observability of Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/03/airwallex-usercase">API Gateway Practice in Airwallex with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/02/weekly-report-1031">Weekly Report｜10.15-10.31 Feature Highlights Update in Progress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/29/extension-guide">Apache APISIX Extensions Guide</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/26/apisix-ingress">How APISIX Ingress grown from 0 to 1</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/22/cert-manager-in-ingress">Use Cert Manager to manage certificates in Apache APISIX Ingress Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/18/meetup">Webinar | Apache APISIX × Apache SkyWalking Online Meetup</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/14/weekly-report-1014">Bieekly Report (Oct 1 - Oct 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/13/celebrating-300-contributors-of-apisix">New milestone for the Apache APISIX community - over 300 contributors worldwide!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/09/apisix-ingress-techblog">A thoughtful tutorial to get started with Apache APISIX Ingress from concept to practice</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/01/openeuler">Apache APISIX community members help openEuler release first innovation version</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/30/weekly-report">Biweekly Report (Sep 13 - Sep 30)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/29/release-apache-apisix-2.10">Release Apache APISIX 2.10.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/28/wps-usercase">WPS with Apache APISIX to create new API gateway experience</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/24/youpaicloud-usercase">Practice in UPYUN with APISIX Ingress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/18/xiaodian-usercase">Apache APISIX helps DIAN to facilitate cloud native solution</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/16/tencent-cloud">Implementing Apache APISIX in Tencent Cloud TI-ONE Platform</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/15/weekly-report">BiWeekly Report (Aug 30 - Sep 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/14/youzan">Youzanyun PaaS for comprehensive micro-service governance with APISX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/13/china-mobile-cloud-usercase">How APISIX implemented in China Mobile Cloud</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/09/how-to-contribute-to-an-openSource-without-coding">How can I contribute to an open source project without writing code?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/07/how-to-use-apisix-auth">Centralized Authentication with Apache APISIX and Advanced Tricks</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/07/iqiyi-usercase">Based on Apache APISIX, iQIYI API Gateway Update and landing practice</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/06/python-helps-you-quickly-with-apache-apisix-development">Python helps you develop Apache APISIX plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/31/apache-apisix-kubeSphere-a-better-gateway-and-k8s-ingress-controller">Apache APISIX × KubeSphere: Providing a better gateway and K8S Ingress Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/30/ingress-meeting">Webinar｜ See you at the Apache APISIX Ingress Community Meeting on Wednesday at 2pm!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/30/weekly-report">Weekly Report (Aug 23 - Aug 29)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/27/release-apache-apisix-2.9">Release Apache APISIX 2.9</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/25/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication">Centralized authentication using the OpenID Connect plug-in for Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/25/why-apache-apisix-chose-nginx-and-lua">Why Apache APISIX chose Nginx and Lua to build API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/24/shanghai-meetup-recap">Apache APISIX Meetup in Shanghai</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/23/apachecon-asia-2021">ApacheCon Asia 2021</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/23/weekly-report">Apache APISIX 社区周报 ｜ 2021 8.16-8.22</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/21/shanghai-meetup">Apache APISIX Meetup in Shanghai, welcome to register!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/19/go-makes-apache-apisix-better">How to use Go to develop Apache APISIX plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/19/weekly-report">Apache APISIX 社区周报 ｜ 08-09 ～ 08-15</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/18/auth-with-casbin-in-apache-apisix">Licensing with Casbin in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/17/interview-airwallex">Interview with Yang to explore API gateway in Airwallex</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication">Using the Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/14/contributors-the-golden-metric-of-opensource-projects">Contributors — The Golden Metric of OpenSource Projects</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/12/chaos-mesh-helps-apache-apisix-improve-system-stability">Chaos Mesh Helps Apache APISIX Improve System Stability</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/11/interview-tuzhengsong">My first PR in the Apache APISIX community</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/10/apisix-nginx">APISIX Architecture: How to Dynamically Manage NGINX Cluster?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/09/apache-apisix-in-china-mobile-cloud">Apache APISIX 在移动云的应用</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/09/apache-apisix-in-quliankeji">Abandoning Kong and Nginx, Hyperchain Technology implements on its BaaS platform</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/06/using-apache-apisix-to-improve-the-observability-of-nginx">How to Improve the Observability of Nginx with Apache APISX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/05/kong-to-apisix">Kong-To-APISIX Migration Tool</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/28/release-apache-apisix-2.8">Release Apache APISIX 2.8.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/27/use-of-plugin-orchestration-in-apache-apisix">Apply Plugin Orchestration in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/25/apachecon-asia">ApacheCon Asia 2021: Apache APISIX Technical Topics</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/21/apache-apisix-kubernetes">Live | Apache APISIX x Kubernetes</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/06/the-road-to-customization-of-sina-weibo-api-gateway-based-on-apache-apisix">The Road to Customized Development of Sina Weibo API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/06/celebrate-200-contributors">Apache APISIX has over 200 contributors in GitHub main repo! </a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/30/etcd3-support-http-access-perfectly">Does etcd 3 Support HTTP Access Perfectly?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/29/release-apache-apisix-2.7">Release Apache APISIX 2.7.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/28/why-we-need-apache-apisix">Why do you need Apache APISIX when you have NGINX and Kong?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/23/deploy-great-open-source-gateway-and-ingress-controller-fast">Deploy APISIX and APISIX Ingress Controller on Rancher</a></li><li class="sidebarItem_iLZw"><a aria-current="page" class="sidebarItemLink_Y3HD sidebarItemLinkActive_Ycqn" href="/blog/2021/06/21/use-java-to-write-apache-apisix-plugins">How to Write an Apache APISIX Plugin in Java</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/18/first-ga-version-v1.0-of-apache-apisix-ingress-controller-released">APISIX Ingress Controller 1.0 Release</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/17/apache-apisix-dashboard-access-control-bypass-vulnerability-announcement">APISIX Dashboard Access Control Bypass Vulnerability Advisory (CVE-2021-33190)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/16/chaos-mesh-helps-apache-apisix-improve-stability">Chaos Mesh Helps Apache APISIX Improve Stability</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/10/apache-apisix-and-envoy-performance-comparison">Apache APISIX v.s Envoy: Which Has the Better Performance?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/07/apache-apisix-not-affected-by-nginx-cve-2021-23017">Apache APISIX not affected by NGINX CVE-2021-23017</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/06/apisix-two-years">Apache APISIX Open Source 2 Year Anniversary!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/blog/2021/06/03/firsthand-experience-with-apache-apisix-from-ospp-2020-students">First Experience with Apache APISIX Shared by Student in OSPP 2020</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/05/25/apache-apisix-2.6.0-release">Apache APISIX Release 2.6.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/05/24/tencent-games">API Gateway Practice in Tencent with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/03/02/get-front-end-test-coverage-with-cypress">Get Front-End Test Coverage with Cypress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/02/26/install-apache-apisix-from-helm-charts">Install Apache APISIX from Helm Charts</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/02/08/stable-product-delivery-with-cypress">Stable Product Delivery with Cypress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/01/21/run-ingress-apisix-on-amazon-eks">Run Ingress APISIX on Amazon EKS</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/01/11/interview-apache-apisix-contributor-wang-pengcheng-senior-security-advisor-of-pwc-south-china-data-security-and-privacy-protection-team">Apache APISIX Contributor Interview | Pengcheng Wang, Senior Security Consultant, PricewaterhouseCoopers China Data Security &amp; Privacy Team</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/18/first-look-at-kubernetes-service-api">A First Look at Kubernetes Service APIs</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/16/another-way-to-implement-envoy-filter">Envoy and Apache APISIX: Another way to implement the Envoy filter</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/11/beike-how-to-build-gateway-based-on-apache-apisix">Ke Holdings Inc chooses Apache APISIX as API Gateway</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_XRV4" itemprop="headline">How to Write an Apache APISIX Plugin in Java</h1><div class="blogPostData_cftJ margin-vert--md"><time datetime="2021-06-21T00:00:00.000Z" itemprop="datePublished">June 21, 2021</time> · 6 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_qo3C"><div class="avatar margin-bottom--sm"><a href="https://github.com/tzssangglass" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_dLSm" src="https://avatars.githubusercontent.com/u/30819887?v=4" alt="Zhengsong Tu"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tzssangglass" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Zhengsong Tu</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>Apache APISIX now supports writing plugins in Java! You can now write plugins in a programming language you are familiar with.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="why-apache-apisix-supports-writing-plugins-in-multiple-programming-languages"></a>Why Apache APISIX Supports Writing Plugins in Multiple Programming Languages?<a class="hash-link" href="#why-apache-apisix-supports-writing-plugins-in-multiple-programming-languages" title="Direct link to heading">#</a></h3><p>Apache APISIX has been supporting customized plugins since the day it was born. But it only supported plugins written in Lua. As a result, developers need to have Lua and OpenResty-related development skills to actually write their own plugins. However, Lua and OpenResty are relatively less popular languages with fewer developers compared to Java and Go. Besides, learning Lua and OpenResty from scratch requires a lot of time and effort.</p><p>During technological selection, the most important consideration for the development team is whether the chosen product matches the team&#x27;s technology stack. The niche technology stack limits Apache APISIX to become the first choice of API Gateway product in many scenarios.</p><p>Now, Apache APISIX supports multi-language development plugins. More importantly, the development ecosystem where the language is supported, so users can use their familiar technology stack to develop Apache APISIX. With Apache APISIX supporting plugins written in Java, for example, users can not only write plugins in Java but also integrate into the Spring Cloud ecosystem and use a wide range of technical components within the ecosystem.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="multiple-programming-languages-architecture-diagram"></a>Multiple Programming Languages Architecture Diagram<a class="hash-link" href="#multiple-programming-languages-architecture-diagram" title="Direct link to heading">#</a></h3><p></p><div class="rc-image"><img alt="Multiple Programming Languages Architecture Diagram" class="rc-image-img" src="https://static.apiseven.com/202108/1639464774923-50cebc94-6344-4ea6-88a6-2b424c5f8567.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>The left side of the diagram shows the workflow of Apache APISIX. The right side of the diagram is the plugin runner, which is a generic term for projects with multiple programming languages support. The apisix-java-plugin-runner is a plugin runner that supports the Java language.</p><p>When you configure a plugin runner in Apache APISIX, Apache APISIX starts a subprocess to run the plugin runner, which belongs to the same user as the Apache APISIX process. When we restart or reload Apache APISIX, the plugin runner will also be restarted.</p><p>If you configure the ext-plugin-* plugin for a given route, a request hitting that route will trigger Apache APISIX to perform an RPC call to the plugin runner via a Unix socket. The call is broken down into two phases:</p><ul><li>ext-plugin-pre-req: Before executing the Apache APISIX built-in plugin (Lua plugin)</li><li>ext-plugin-post-req: After executing the Apache APISIX built-in plugin (Lua plugin)</li></ul><p>Please configure the timing of the plugin runner execution as needed.
The plugin runner processes the RPC call, creates a simulated request inside it, and then runs the multiple programming languages written a plugin and returns the result to Apache APISIX.</p><p>The order of execution of multiple programming languages plugins is defined in the ext-plugin-* plugin configuration entry. Like other plugins, they can be enabled and redefined on the fly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="building-development-environment"></a>Building Development Environment<a class="hash-link" href="#building-development-environment" title="Direct link to heading">#</a></h2><p>First, you need to build the Apache APISIX runtime or development environment, please refer to <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/how-to-build.md" target="_blank" rel="noopener noreferrer">Build Apache APISIX</a>, and <a href="https://github.com/apache/apisix-java-plugin-runner/blob/main/docs/development.md" target="_blank" rel="noopener noreferrer">Build apisix-java-plugin-runner</a>.</p><p>Note: Apache APISIX and apisix-java-plugin-runner need to be located on the same instance.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="enabling-debugmode"></a>Enabling Debug Mode<a class="hash-link" href="#enabling-debugmode" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="configuring-apache-apisix-into-debugmode"></a>Configuring Apache APISIX into Debug Mode<a class="hash-link" href="#configuring-apache-apisix-into-debugmode" title="Direct link to heading">#</a></h3><p>When Apache APISIX is configured into debug mode, it is allowed to run external plugins in a debugging manner. Add the following configuration to <code>config.yaml</code> to enable debug mode for Apache APISIX.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O text"><pre tabindex="0" class="prism-code language-text codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">ext-plugin:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  path_for_test: /tmp/runner.sock</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><p>The configuration above means that Apache APISIX acts as the client and listens to the Unix Domain Socket link located at <code>/tmp/runner.sock</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="setting-apisix-java-plugin-runner-to-debugmode"></a>Setting apisix-java-plugin-runner to Debug Mode<a class="hash-link" href="#setting-apisix-java-plugin-runner-to-debugmode" title="Direct link to heading">#</a></h3><p>Before starting the <code>Mainclass(org.apache.apisix.plugin.runner.PluginRunnerApplication)</code>, you need to configure the user-level environment variables <code>APISIX_LISTEN_ADDRESS=unix:/tmp/runner.sock and APISIX_CONF_EXPIRE_TIME=3600</code>.</p><p>If you are using IDEA for development, the configured environment variables are shown below.</p><p></p><div class="rc-image"><img alt="configured environment" class="rc-image-img" src="https://static.apiseven.com/202108/1639464890287-ee6bbc3a-3f8b-4de7-9ce4-7670fb0c3f64.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>apisix-java-plugin-runner is equivalent to the server side and will actively create the <code>/tmp/runner.sock</code> file at startup and communicate with Apache APISIX on this file for Unix Domain Socket.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="how-to-develop-a-java-plugin-for-apacheapisix"></a>How to Develop a Java Plugin for Apache APISIX?<a class="hash-link" href="#how-to-develop-a-java-plugin-for-apacheapisix" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="scenario"></a>Scenario<a class="hash-link" href="#scenario" title="Direct link to heading">#</a></h3><p>Let&#x27;s say we have a scenario like this: we need to verify the validity of the token in the request header. The way to verify the token is to carry the token as a parameter in the request and access the SSO fixed interface.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="configuring-apacheapisix"></a>Configuring Apache APISIX<a class="hash-link" href="#configuring-apacheapisix" title="Direct link to heading">#</a></h3><p>First, name the plugin <code>TokenValidator</code>, and then design the properties. In order to achieve dynamic configuration as far as possible, the properties are designed as follows.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O json"><pre tabindex="0" class="prism-code language-json codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;validate_header&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;validate_url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.sso.foo.com/token/validate&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rejected_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;403&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><p>Start Apache APISIX, then add a new route configuration specifying that the route requires a call to apisix-java-plugin-runner&#x27;s <code>TokenValidator</code> plugin, as shown in the following example.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> http://127.0.0.1:9080/apisix/admin/routes/1 -H </span><span class="token string" style="color:#e3116c">&#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27;</span><span class="token plain"> -X PUT -d &#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;uri&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;/get&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;plugins&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;ext-plugin-pre-req&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;conf&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;TokenValidator&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;{</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">validate_header</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">:</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">token</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">,</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">validate_url</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">:</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">https://www.sso.foo.com/token/validate</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">,</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">rejected_code</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">:</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">403</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">}&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;upstream&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;nodes&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;httpbin.org:80&quot;</span><span class="token plain">:1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;roundrobin&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><p>Note that the properties of <code>TokenValidator</code> need to be escaped by json and configured as string type (the upstream address here is configured as httpbin.org to simplify the debugging process).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="developing-a-javaplugin"></a>Developing a Java Plugin<a class="hash-link" href="#developing-a-javaplugin" title="Direct link to heading">#</a></h3><p>Add <code>TokenValidatr.java</code> with the following initial code skeleton In the <code>runner-plugin/src/main/java/org/apache/apisix/plugin/runner/filter</code> directory.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Java"><pre tabindex="0" class="prism-code language-Java codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">package org.apache.apisix.plugin.runner.filter;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.apache.apisix.plugin.runner.HttpRequest;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.apache.apisix.plugin.runner.HttpResponse;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.stereotype.Component;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import reactor.core.publisher.Mono;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">@Component</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TokenValidator implements PluginFilter {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String name() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;TokenValidator&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Mono&lt;Void&gt; filter(HttpRequest request, HttpResponse response, PluginFilterChain chain) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return chain.filter(request, response);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><p>This plugin inherits the <code>PluginFilter</code> interface and overrides the <code>name</code> and the <code>filter</code> function. Rewrite the return value of <code>name</code> to be consistent with &quot;name&quot; in the route attribute of APISIX configuration earlier. The complete code is as follows.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Java"><pre tabindex="0" class="prism-code language-Java codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">package org.apache.apisix.plugin.runner.filter;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import com.google.gson.Gson;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.apache.apisix.plugin.runner.HttpRequest;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.apache.apisix.plugin.runner.HttpResponse;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.stereotype.Component;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import reactor.core.publisher.Mono;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.HashMap;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.Map;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">@Component</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TokenValidator implements PluginFilter {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String name() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;TokenValidator&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Mono&lt;Void&gt; filter(HttpRequest request, HttpResponse response, PluginFilterChain chain) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // parse `conf` to json</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        String configStr = request.getConfig(this);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Gson gson = new Gson();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map&lt;String, Object&gt; conf = new HashMap&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        conf = gson.fromJson(configStr, conf.getClass());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // get configuration parameters</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        String token = request.getHeader((String) conf.get(&quot;validate_header&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        String validate_url = (String) conf.get(&quot;validate_url&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        boolean flag = validate(token, validate_url);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // token verification results</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!flag) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            String rejected_code = (String) conf.get(&quot;rejected_code&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.setStatusCode(Integer.parseInt(rejected_code));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return chain.filter(request, response);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return chain.filter(request, response);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Boolean validate(String token, String validate_url) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        //TODO: improve the validation process</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="testing-theplugin"></a>Testing the Plugin<a class="hash-link" href="#testing-theplugin" title="Direct link to heading">#</a></h3><p>The upstream service configured on Apache APISIX is httpbin.org, which allows you to access Apache APISIX, trigger the route, and have Apache APISIX call apisix-java-plugin-runner to execute the TokenValidator plugin and test the functionality of the Java plugin.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O shell"><pre tabindex="0" class="prism-code language-shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -H </span><span class="token string" style="color:#e3116c">&#x27;token: 123456&#x27;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:9080/get</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;args&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;headers&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Accept&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Host&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;127.0.0.1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Token&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123456&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;User-Agent&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curl/7.71.1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;X-Amzn-Trace-Id&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Root=1-60cb0424-02b5bf804cfeab5252392f96&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;X-Forwarded-Host&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;127.0.0.1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;origin&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;127.0.0.1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;url&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://127.0.0.1/get&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="deploying-theplugin"></a>Deploying the Plugin<a class="hash-link" href="#deploying-theplugin" title="Direct link to heading">#</a></h2><p>After the development of the plugin is completed, the deployment operation can be found in referred to <a href="https://github.com/apache/apisix-java-plugin-runner/blob/main/docs/how-it-works.md#run" target="_blank" rel="noopener noreferrer">Deploying apisix-java-plugin-runner</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="video-tutorial"></a>Video Tutorial<a class="hash-link" href="#video-tutorial" title="Direct link to heading">#</a></h2><iframe height="350" width="600" src="https://api7-website-1301662268.file.myqcloud.com/2021-06-21-use-Java-to-write-Apache-APISIX-plugins.mp4" frameborder="0"></iframe></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_GzFC"><div class="col"><b>Tags:</b><ul class="tags_5N4j padding--none margin-left--sm"><li class="tag_LKyA"><a class="tag_JoRF tagRegular_BENv" href="/blog/tags/practical-case">Practical Case</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/06/23/deploy-great-open-source-gateway-and-ingress-controller-fast"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« Deploy APISIX and APISIX Ingress Controller on Rancher</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/06/18/first-ga-version-v1.0-of-apache-apisix-ingress-controller-released"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">APISIX Ingress Controller 1.0 Release »</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_thVJ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a><ul><li><a href="#why-apache-apisix-supports-writing-plugins-in-multiple-programming-languages" class="table-of-contents__link">Why Apache APISIX Supports Writing Plugins in Multiple Programming Languages?</a></li><li><a href="#multiple-programming-languages-architecture-diagram" class="table-of-contents__link">Multiple Programming Languages Architecture Diagram</a></li></ul></li><li><a href="#building-development-environment" class="table-of-contents__link">Building Development Environment</a></li><li><a href="#enabling-debugmode" class="table-of-contents__link">Enabling Debug Mode</a><ul><li><a href="#configuring-apache-apisix-into-debugmode" class="table-of-contents__link">Configuring Apache APISIX into Debug Mode</a></li><li><a href="#setting-apisix-java-plugin-runner-to-debugmode" class="table-of-contents__link">Setting apisix-java-plugin-runner to Debug Mode</a></li></ul></li><li><a href="#how-to-develop-a-java-plugin-for-apacheapisix" class="table-of-contents__link">How to Develop a Java Plugin for Apache APISIX?</a><ul><li><a href="#scenario" class="table-of-contents__link">Scenario</a></li><li><a href="#configuring-apacheapisix" class="table-of-contents__link">Configuring Apache APISIX</a></li><li><a href="#developing-a-javaplugin" class="table-of-contents__link">Developing a Java Plugin</a></li><li><a href="#testing-theplugin" class="table-of-contents__link">Testing the Plugin</a></li></ul></li><li><a href="#deploying-theplugin" class="table-of-contents__link">Deploying the Plugin</a></li><li><a href="#video-tutorial" class="table-of-contents__link">Video Tutorial</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ASF</div><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/events/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/apisix/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/general/join">Slack</a></li><li class="footer__item"><a href="https://twitter.com/ApacheAPISIX" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCgPD18cMhOg5rmPVnQhAC8g" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a class="footer__link-item" href="/plugins">Plugin Hub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_fkq+"><img src="https://static.apiseven.com/202202/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_3EHU themedImage--light_heW6 footer__logo"><img src="https://static.apiseven.com/202202/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_3EHU themedImage--dark_6pZL footer__logo"></a></div><div class="footer__copyright">Copyright © 2019-2022 The Apache Software Foundation. Apache APISIX, APISIX®, Apache, the Apache feather logo, and the Apache APISIX project logo are either registered trademarks or trademarks of the Apache Software Foundation.</div></div></div></footer></div>
<script src="https://apisix-website-static.apiseven.com/assets/js/runtime~main.f3244aab.js"></script>
<script src="https://apisix-website-static.apiseven.com/assets/js/main.86bd6361.js"></script>
</body>
<script>window.onload=function(){window.location.host.endsWith(".netlify.app")&&document.querySelector("#__docusaurus").insertAdjacentHTML("afterend",'<div style="text-align: right;padding: 48px 32px 48px 0;">This site is powered by <a href="https://www.netlify.com/" target="_blank">Netlify</a></div>')}</script>
</html>