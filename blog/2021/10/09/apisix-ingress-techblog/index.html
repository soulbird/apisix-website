<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="ahrefs-site-verification" content="c2f7370ecf46173f4fb25f114e74c97e0a2976d4f02f61c9b00a9d7d34e34698">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-K24PRPS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-K24PRPS",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/articles/rss.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/articles/atom.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway Blog Atom Feed"><title data-react-helmet="true">A thoughtful tutorial to get started with Apache APISIX Ingress from concept to practice | Apache APISIX¬Æ -- Cloud-Native API Gateway</title><meta data-react-helmet="true" property="og:image" content="https://static.apiseven.com/202202/apache-apisix.png"><meta data-react-helmet="true" name="twitter:image" content="https://static.apiseven.com/202202/apache-apisix.png"><meta data-react-helmet="true" property="og:url" content="https://apisix.apache.org/blog/2021/10/09/apisix-ingress-techblog"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" name="robots" content="index,follow"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="A thoughtful tutorial to get started with Apache APISIX Ingress from concept to practice | Apache APISIX¬Æ -- Cloud-Native API Gateway"><meta data-react-helmet="true" name="description" content="This article describes and explains Apache APISIX Ingress in detail from both theoretical and practical perspectives."><meta data-react-helmet="true" property="og:description" content="This article describes and explains Apache APISIX Ingress in detail from both theoretical and practical perspectives."><meta data-react-helmet="true" name="keywords" content="Apache APISIX,Ingress,Kubernetes"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-10-09T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/tao12345666333"><meta data-react-helmet="true" property="article:tag" content="Technology"><link data-react-helmet="true" rel="shortcut icon" href="https://static.apiseven.com/202202/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://apisix.apache.org/blog/2021/10/09/apisix-ingress-techblog"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2021/10/09/apisix-ingress-techblog" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/zh/blog/2021/10/09/apisix-ingress-techblog" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2021/10/09/apisix-ingress-techblog" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://38VC84A2WJ-dsn.algolia.net" crossorigin="anonymous"><link rel="preload" href="https://apisix-website-static.apiseven.com/assets/js/runtime~main.f3244aab.js" as="script">
<link rel="preload" href="https://apisix-website-static.apiseven.com/assets/js/main.86bd6361.js" as="script">
<link rel="stylesheet" href="https://apisix-website-static.apiseven.com/assets/css/styles.355196a5.css">

<script>var _paq=window._paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://analytics.apache.org/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","17"]);var e=document,p=e.createElement("script"),t=e.getElementsByTagName("script")[0];p.async=!0,p.src=a+"matomo.js",t.parentNode.insertBefore(p,t)}()</script>

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_QVmC">Skip to main content</a></div><div class="announcementBar_gVRT" style="background-color:#e8433e;color:white" role="banner"><div class="announcementBarPlaceholder_csWV"></div><div class="announcementBarContent_2kKG">ü§î Have queries regarding API Gateway? Join Slack channel to discuss <a target="_blank" rel="noopener noreferrer" href="/docs/general/join">join #apisix channel</a>! ‚≠êÔ∏è</div><button type="button" class="clean-btn close announcementBarClose_EDEK" aria-label="Close"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"></path></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_IWhJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo2.svg" alt="Apache APISIX¬Æ" class="themedImage_3EHU themedImage--light_heW6 navbar__logo"><img src="/img/logo2.svg" alt="Apache APISIX¬Æ" class="themedImage_3EHU themedImage--dark_6pZL navbar__logo"><b class="navbar__title">Apache APISIX¬Æ</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/apisix/getting-started">Apache APISIX¬ÆÔ∏è</a></li><li><a class="dropdown__link" href="/docs/dashboard/USER_GUIDE">Apache APISIX¬ÆÔ∏è Dashboard</a></li><li><a class="dropdown__link" href="/docs/ingress-controller/getting-started/">Apache APISIX¬ÆÔ∏è Ingress Controller</a></li><li><a class="dropdown__link" href="/docs/helm-chart/apisix/">Apache APISIX¬ÆÔ∏è Helm Charts</a></li><li><a class="dropdown__link" href="/docs/docker/build/">Apache APISIX¬ÆÔ∏è Docker</a></li><li><a class="dropdown__link" href="/docs/java-plugin-runner/development/">Apache APISIX¬ÆÔ∏è Java Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/go-plugin-runner/getting-started/">Apache APISIX¬ÆÔ∏è Go Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/python-plugin-runner/getting-started/">Apache APISIX¬ÆÔ∏è Python Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/general/join">General</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/blog/tags/user-case">Case Studies</a><a class="navbar__item navbar__link" href="/downloads">Downloads</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/team">Team</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/showcase">Showcase</a></li><li><a class="dropdown__link" href="/plugins">PluginHub</a></li><li><a class="dropdown__link" href="/docs/general/join">Community</a></li><li><a class="dropdown__link" href="/docs/general/events">Events</a></li></ul></div><div class="react-toggle toggle_pM6S react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_5Cll">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_5Cll">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_xkIr"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_drON thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_+zDs margin-bottom--md">All posts</div><ul class="sidebarItemList_L38e"><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/21/weekly-report-0621">Biweekly Report (Jun 1 - Jun 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/automated-operation-base-apache-apisix">Build automated operation platform based on Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/beeto-with-apache-apisix">Practice of localized application with API gateway in the Middle East</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/how-mse-supports-canary-release-with-apache-apisix">Implementation of canary release solution based on Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/xueqiu-with-apache-apisix">Architecture evolution of investment platforms with API gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/07/installation-performance-test-of-apigateway-apisix-on-aws-graviton3">Installation and performance testing of API Gateway Apache APISIX on AWS Graviton3</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/07/weekly-report-0607">Biweekly ReportÔΩúExplore the weeks of May 16th - May 31th</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/31/release-apache-apisix-2.14">Release Apache APISIX 2.14.1</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/19/weekly-report-0519">Biweekly Report (May 1 - May 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/10/weekly-report-0510">Biweekly Report (Apr 15 - Apr 30)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/29/interview-juzhiyuan-apache-member">Interview with JU Zhiyuan: Becoming One of the 918 ASF Members, I Felt Thrilled and Proud</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/22/apisix-with-tidb-practice">High Availability Configuration with TiDB and APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/20/cve-2022-29266">The Vulnerability of Leaking Information in Error Response from jwt-auth PluginÔºàCVE-2022-29266Ôºâ</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/20/weekly-report-0420">Biweekly Report (Apr 1 - Apr 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/17/api-observability">API Observability with APISIX Plugins</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/12/apisix-summit-asia-2022">Apache APISIX Summit ASIA 2022: API Gateway, Service Mesh and Open Source Ecology</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/28/release-apache-apisix-2.13">Apache APISIX 2.13.0 Is Released, Bringing LTS and New Features</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/24/weekly-report-0314">Biweekly ReportÔΩúExplore the weeks of Mar 1st - Mar 14th</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/05/apisix-integration-eureka-service-discovery">Integrate API Gateway with Eureka</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/04/apigateway-clickhouse-makes-logging-easier">APISIX Integrates ClickHouse to Improve Log Efficiency</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery">Apache APISIX and CoreDNS open new doors for service discovery</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/03/develop-apisix-with-gitpod">How to Use Gitpod to Develop API Gateway?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/03/weekly-report-0228">Biweekly ReportÔΩúExplore the week of Feb 15 - Feb 28</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/02/apisix-integration-graphql-plugin">Use GraphQL with API Gateway Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/02/zhongan-usercase-with-apache-apisix">Implement Traffic Governance in Internet Insurance with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/01/apisix-integration-public-api-plugin">API Gateway Apache APISIX provides enhancements on API Management</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/28/apisix-integration-opentelemetry-plugin">Upgrade of observability capabilities, API Gateway Apache APISIX integrates OpenTelemetry</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/25/consul-api-gateway">How to Integrate API Gateway and Consul?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/23/csrf-api-gateway">API Gateway Enhances Security by CSRF Plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/21/nacos-api-gateway">The practice of Nacos service discovery on API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/17/weekly-report-0214">Biweekly Report (Feb 1 - Feb 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/16/file-logger-api-gateway">file logger practice in API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/11/cve-2022-24112">Apache APISIX Vulnerability for Rewriting X-REAL-IP Header (CVE-2022-24112)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/10/splunk-apisix-integration">Integrating Splunk HTTP Event Collector with API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/26/apisix-integrate-forward-auth-plugin">forward-auth Plugin for Authentication Function</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/25/apisix-grpc-web-integration">Integrate Apache APISIX with gRPC-Web</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/25/release-apache-apisix-2.12">Apache APISIX 2.12.0 is Released, More Features ComingÔºÅ</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/24/apisix-with-qingcloud-meetup">Webinar | APISIX in QingCloud! </a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/21/apisix-hashicorp-vault-integration">HashiCorp Vault Secure Storage Backend in Apache APISIX Ecosystem</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/21/apisix-xrpc-details-and-miltilingual">Get More Details About xRPC</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/20/upyun-public-gateway-usecase">The Practice of Public Gateway in CDN Scenario from UPYUN</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/19/weekly-report-0116">Biweekly Report (Jan 1 - Jan 16)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/17/apisix-kafka-integration">APISIX integrate with Kafka for real-time log monitoring</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/13/how-to-proxy-dubbo-in-apache-apisix">Makes it More Convenient for You to Proxy Dubbo Services in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/11/apisix-with-shardingsphere-meetup">Webinar | From API to Database</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/11/building-apisix-in-ubuntu-for-arm">How to build APISIX in ARM Ubuntu</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/05/weekly-report-1231">Biweekly Report (Dec 16 - Dec 31)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/04/authing">Use APISIX and Authing to implement centralized authentication Management</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/30/apisix-proxy-grpc-service">Use API gateway to proxy gRPC service</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/28/dashboard-cve-2021-45232">Apache APISIX Dashboard Unauthorized Access Vulnerability Announcement (CVE-2021-45232)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/24/apisix-integrate-openwhisk-plugin">Coming soon! Apache APISIX Integrate with Apache OpenWhisk</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/24/open-policy-agent">Apache APISIX integrates with Open Policy Agent</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/22/google-logging">APISIX Integrates with Google Cloud Logging</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/20/weekly-report-1215">Biweekly Report (Dec 1 - Dec 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/17/exposure-istio-with-apisix-ingress">Secure Exposure of Istio Services with APISIX Ingress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/16/apisix-with-rocketmq-meetup">Webinar | Apache APISIX √ó Apache RocketMQ Online Meetup</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/15/deploy-apisix-in-kubernetes">How to Easily Deploy Apache APISIX in Kubernetes</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/13/monitor-apisix-ingress-controller-with-prometheus">Monitor APISIX Ingress Controller with Prometheus</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/10/integrate-keycloak-auth-in-apisix">How to Integrate Keycloak for Authentication with Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/08/apisix-integrate-rocketmq-logger-plugin">Apache APISIX &amp; RocketMQ Help API Log Monitoring Capabilities</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/07/apisix-integrate-skywalking-plugin">Apache APISIX Integrates with SkyWalking to Create a Full Range of Log Processing</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/02/weekly-report-1130">Biweekly ReportÔΩú11.15-11.30 Feature Highlights Update in Progress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/01/apisix-supports-azure-functions">Apache APISIX&#x27;s integration with Azure Serverless</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/01/release-apache-apisix-2.11">Apache APISIX 2.11.0 is officially released with more new features</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/30/use-apisix-ingress-in-kubesphere">Using Apache APISIX Ingress Gateway to access Custom Monitoring in KubeSphere</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/26/apache-apisix-committer-experience">Contributer to Committer journey @Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/23/cve-2021-43557-research-report">APISIX request_uri variable with risk of path penetration</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/23/cve-2021-43557">Apache APISIX Path traversal in request_uri variable(CVE-2021-43557)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/22/develop-apisix-ingress-with-nocalhost-in-kubernetes">Develop APISIX Ingress Controller with Nocalhost in K8s</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/19/apisix-supports-wasm">Apache APISIX embraces the WASM ecosystem</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/17/dapr-with-apisix">How to integrate with Dapr to build Apache APISIX Gateway Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/16/weekly-report-1114">Weekly Report (Sep 1 - Sep 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/12/apisix-datadog">Cloud Monitoring with Datadog in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/04/skywalking">The observability of Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/03/airwallex-usercase">API Gateway Practice in Airwallex with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/02/weekly-report-1031">Weekly ReportÔΩú10.15-10.31 Feature Highlights Update in Progress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/29/extension-guide">Apache APISIX Extensions Guide</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/26/apisix-ingress">How APISIX Ingress grown from 0 to 1</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/22/cert-manager-in-ingress">Use Cert Manager to manage certificates in Apache APISIX Ingress Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/18/meetup">Webinar | Apache APISIX √ó Apache SkyWalking Online Meetup</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/14/weekly-report-1014">Bieekly Report (Oct 1 - Oct 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/13/celebrating-300-contributors-of-apisix">New milestone for the Apache APISIX community - over 300 contributors worldwide!</a></li><li class="sidebarItem_iLZw"><a aria-current="page" class="sidebarItemLink_Y3HD sidebarItemLinkActive_Ycqn" href="/blog/2021/10/09/apisix-ingress-techblog">A thoughtful tutorial to get started with Apache APISIX Ingress from concept to practice</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/01/openeuler">Apache APISIX community members help openEuler release first innovation version</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/30/weekly-report">Biweekly Report (Sep 13 - Sep 30)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/29/release-apache-apisix-2.10">Release Apache APISIX 2.10.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/28/wps-usercase">WPS with Apache APISIX to create new API gateway experience</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/24/youpaicloud-usercase">Practice in UPYUN with APISIX Ingress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/18/xiaodian-usercase">Apache APISIX helps DIAN to facilitate cloud native solution</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/16/tencent-cloud">Implementing Apache APISIX in Tencent Cloud TI-ONE Platform</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/15/weekly-report">BiWeekly Report (Aug 30 - Sep 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/14/youzan">Youzanyun PaaS for comprehensive micro-service governance with APISX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/13/china-mobile-cloud-usercase">How APISIX implemented in China Mobile Cloud</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/09/how-to-contribute-to-an-openSource-without-coding">How can I contribute to an open source project without writing code?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/07/how-to-use-apisix-auth">Centralized Authentication with Apache APISIX and Advanced Tricks</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/07/iqiyi-usercase">Based on Apache APISIX, iQIYI API Gateway Update and landing practice</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/06/python-helps-you-quickly-with-apache-apisix-development">Python helps you develop Apache APISIX plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/31/apache-apisix-kubeSphere-a-better-gateway-and-k8s-ingress-controller">Apache APISIX √ó KubeSphere: Providing a better gateway and K8S Ingress Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/30/ingress-meeting">WebinarÔΩú See you at the Apache APISIX Ingress Community Meeting on Wednesday at 2pm!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/30/weekly-report">Weekly Report (Aug 23 - Aug 29)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/27/release-apache-apisix-2.9">Release Apache APISIX 2.9</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/25/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication">Centralized authentication using the OpenID Connect plug-in for Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/25/why-apache-apisix-chose-nginx-and-lua">Why Apache APISIX chose Nginx and Lua to build API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/24/shanghai-meetup-recap">Apache APISIX Meetup in Shanghai</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/23/apachecon-asia-2021">ApacheCon Asia 2021</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/23/weekly-report">Apache APISIX Á§æÂå∫Âë®Êä• ÔΩú 2021 8.16-8.22</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/21/shanghai-meetup">Apache APISIX Meetup in Shanghai, welcome to register!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/19/go-makes-apache-apisix-better">How to use Go to develop Apache APISIX plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/19/weekly-report">Apache APISIX Á§æÂå∫Âë®Êä• ÔΩú 08-09 ÔΩû 08-15</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/18/auth-with-casbin-in-apache-apisix">Licensing with Casbin in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/17/interview-airwallex">Interview with Yang to explore API gateway in Airwallex</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication">Using the Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/14/contributors-the-golden-metric-of-opensource-projects">Contributors ‚Äî The Golden Metric of OpenSource Projects</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/12/chaos-mesh-helps-apache-apisix-improve-system-stability">Chaos Mesh Helps Apache APISIX Improve System Stability</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/11/interview-tuzhengsong">My first PR in the Apache APISIX community</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/10/apisix-nginx">APISIX Architecture: How to Dynamically Manage NGINX Cluster?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/09/apache-apisix-in-china-mobile-cloud">Apache APISIX Âú®ÁßªÂä®‰∫ëÁöÑÂ∫îÁî®</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/09/apache-apisix-in-quliankeji">Abandoning Kong and Nginx, Hyperchain Technology implements on its BaaS platform</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/06/using-apache-apisix-to-improve-the-observability-of-nginx">How to Improve the Observability of Nginx with Apache APISX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/05/kong-to-apisix">Kong-To-APISIX Migration Tool</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/28/release-apache-apisix-2.8">Release Apache APISIX 2.8.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/27/use-of-plugin-orchestration-in-apache-apisix">Apply Plugin Orchestration in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/25/apachecon-asia">ApacheCon Asia 2021: Apache APISIX Technical Topics</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/21/apache-apisix-kubernetes">Live | Apache APISIX x Kubernetes</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/06/the-road-to-customization-of-sina-weibo-api-gateway-based-on-apache-apisix">The Road to Customized Development of Sina Weibo API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/06/celebrate-200-contributors">Apache APISIX has over 200 contributors in GitHub main repo! </a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/30/etcd3-support-http-access-perfectly">Does etcd 3 Support HTTP Access Perfectly?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/29/release-apache-apisix-2.7">Release Apache APISIX 2.7.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/28/why-we-need-apache-apisix">Why do you need Apache APISIX when you have NGINX and Kong?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/23/deploy-great-open-source-gateway-and-ingress-controller-fast">Deploy APISIX and APISIX Ingress Controller on Rancher</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/21/use-java-to-write-apache-apisix-plugins">How to Write an Apache APISIX Plugin in Java</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/18/first-ga-version-v1.0-of-apache-apisix-ingress-controller-released">APISIX Ingress Controller 1.0 Release</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/17/apache-apisix-dashboard-access-control-bypass-vulnerability-announcement">APISIX Dashboard Access Control Bypass Vulnerability Advisory (CVE-2021-33190)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/16/chaos-mesh-helps-apache-apisix-improve-stability">Chaos Mesh Helps Apache APISIX Improve Stability</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/10/apache-apisix-and-envoy-performance-comparison">Apache APISIX v.s Envoy: Which Has the Better Performance?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/07/apache-apisix-not-affected-by-nginx-cve-2021-23017">Apache APISIX not affected by NGINX CVE-2021-23017</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/06/apisix-two-years">Apache APISIX Open Source 2 Year Anniversary!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/blog/2021/06/03/firsthand-experience-with-apache-apisix-from-ospp-2020-students">First Experience with Apache APISIX Shared by Student in OSPP 2020</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/05/25/apache-apisix-2.6.0-release">Apache APISIX Release 2.6.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/05/24/tencent-games">API Gateway Practice in Tencent with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/03/02/get-front-end-test-coverage-with-cypress">Get Front-End Test Coverage with Cypress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/02/26/install-apache-apisix-from-helm-charts">Install Apache APISIX from Helm Charts</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/02/08/stable-product-delivery-with-cypress">Stable Product Delivery with Cypress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/01/21/run-ingress-apisix-on-amazon-eks">Run Ingress APISIX on Amazon EKS</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/01/11/interview-apache-apisix-contributor-wang-pengcheng-senior-security-advisor-of-pwc-south-china-data-security-and-privacy-protection-team">Apache APISIX Contributor Interview | Pengcheng Wang, Senior Security Consultant, PricewaterhouseCoopers China Data Security &amp; Privacy Team</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/18/first-look-at-kubernetes-service-api">A First Look at Kubernetes Service APIs</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/16/another-way-to-implement-envoy-filter">Envoy and Apache APISIX: Another way to implement the Envoy filter</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/11/beike-how-to-build-gateway-based-on-apache-apisix">Ke Holdings Inc chooses Apache APISIX as API Gateway</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_XRV4" itemprop="headline">A thoughtful tutorial to get started with Apache APISIX Ingress from concept to practice</h1><div class="blogPostData_cftJ margin-vert--md"><time datetime="2021-10-09T00:00:00.000Z" itemprop="datePublished">October 9, 2021</time> ¬∑ 10 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_qo3C"><div class="avatar margin-bottom--sm"><a href="https://github.com/tao12345666333" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_dLSm" src="https://avatars.githubusercontent.com/u/3264292?v=4" alt="Jintao Zhang"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tao12345666333" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jintao Zhang</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>Jintao Zhang, Apache APISIX Committer, Kubernetes Ingress Nginx Reviewer, and contributor to several cloud-native open source projects.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="apache-apisix-ingress-overview"></a>Apache APISIX Ingress Overview<a class="hash-link" href="#apache-apisix-ingress-overview" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="apache-apisix-ingress-definition"></a>Apache APISIX Ingress Definition<a class="hash-link" href="#apache-apisix-ingress-definition" title="Direct link to heading">#</a></h3><p>In the K8s ecosystem, Ingress is a resource that represents the entry point for K8s traffic. To make it effective, an Ingress Controller is needed to listen to the Ingress resources in K8s and resolve the rules and actually carry the traffic for those resources. The most widely used Ingress Controller implementations in today&#x27;s trends are Kubernetes Ingress Nginx.</p><p>APISIX Ingress is another implementation of the Ingress Controller. The main difference with Kubernetes Ingress Nginx is that APISIX Ingress uses Apache APISIX as the actual data plane that carries business traffic. As shown in the figure below, when a user requests a specific service/API/web page, the entire business traffic/user request is transferred to the K8s cluster through an external proxy and then processed by APISIX Ingress.</p><p></p><div class="rc-image"><img alt="APISIX Ingress Architecture" class="rc-image-img" src="https://static.apiseven.com/202108/1633765366863-8964a75c-0c16-4683-ad9b-c8c83ac64ec6.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>As you can see from the above diagram, APISIX Ingress is divided into two parts. One part is the APISIX Ingress Controller, which is the control plane that will do the configuration management and distribution. The other part is the APISIX Proxy Pod, which is responsible for carrying business traffic and is implemented by means of CRD (Custom Resource Definitions).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="apache-apisix-in-a-nutshell"></a>Apache APISIX in a nutshell<a class="hash-link" href="#apache-apisix-in-a-nutshell" title="Direct link to heading">#</a></h3><p>We mentioned earlier that APISIX Ingress uses Apache APISIX as the data surface that actually carries business traffic, so what does the Apache APISIX project do?</p><p></p><div class="rc-image"><img alt="Apache APISIX Architecture" class="rc-image-img" src="https://static.apiseven.com/202108/1633765402660-6b20dd1c-bef6-4dcb-974e-fa80334e0623.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>Apache APISIX is the top open source project of the Apache Foundation and is currently the most active open source gateway project. As a dynamic, real-time, high-performance open source API gateway, Apache APISIX provides rich traffic management features such as load balancing, dynamic upstream, canary release, service meltdown, authentication, observability, and more.</p><p>Apache APISIX helps enterprises handle API and microservice traffic quickly and securely with features such as flow-limiting authentication, logging security features, and support for rich custom plug-ins. There are also currently relevant integrations with many open source projects such as Apache SkyWalking, Prometheus and other such components.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="apisix-ingress-vs-k8s-ingress-nginx"></a>APISIX Ingress vs K8s Ingress Nginx<a class="hash-link" href="#apisix-ingress-vs-k8s-ingress-nginx" title="Direct link to heading">#</a></h2><p>Since I am involved in the development and maintenance of both APISIX Ingress and K8s Ingress Nginx, many people ask me how to choose between these two projects. Or why do you want to do APISIX Ingress when you have K8s Ingress Nginx.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="configuration-level"></a>Configuration level<a class="hash-link" href="#configuration-level" title="Direct link to heading">#</a></h3><p>In APISIX Ingress, we have added some rich and flexible configurations, such as canary release deployment through a single configuration file. However, in K8s Ingress Nginx, you need at least two Ingress resource files to achieve the above effect.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="richness"></a>Richness<a class="hash-link" href="#richness" title="Direct link to heading">#</a></h3><p>In terms of richness, because Apache APISIX is feature-rich and allows for multiple plugins, using APISIX Ingress eliminates the need to configure additional features yourself, allowing you to spend more time on actual development.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="architecture-separation"></a>Architecture separation<a class="hash-link" href="#architecture-separation" title="Direct link to heading">#</a></h3><p>APISIX Ingress uses a separate architecture for the data plane and control plane, so users can choose to deploy the data plane inside/outside the K8s cluster. However, K8s Ingress Nginx puts the control plane and the data plane in the same Pod, so if something happens to the Pod or the control plane, the whole Pod will hang, which will affect business traffic.</p><p>This architectural separation gives users a more convenient deployment option and facilitates data migration and usage in business architecture adjustment scenarios.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="apisix-ingress-features-explained"></a>APISIX Ingress Features Explained<a class="hash-link" href="#apisix-ingress-features-explained" title="Direct link to heading">#</a></h2><p>Since Apache APISIX is a fully dynamic, high-performance gateway, APISIX Ingress itself supports full dynamics, including routing, SSL certificates, upstream, plug-ins, and more.</p><p>APISIX Ingress also has the following features.</p><ul><li>CRD support for easier understanding of declarative configurations; while state checking ensures quick access to the synchronized state of declarative configurations</li><li>Support for advanced route matching rules and custom resources, which can be extended with more than 50 official Apache APISIX plug-ins &amp; customer-defined plug-ins</li><li>Support for K8s native Ingress configuration</li><li>Support for traffic slicing</li><li>Support for gRPC plaintext and TCP Layer 4 proxy</li><li>Automatic service registration and discovery, no fear of scaling up or down</li><li>More flexible load balancing policy with health check function</li></ul><p>The following is a detailed introduction to CRD and custom resources.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="crd-extensions"></a>CRD Extensions<a class="hash-link" href="#crd-extensions" title="Direct link to heading">#</a></h3><p>We mentioned CRD in the previous introduction, but how does APISIX Ingress use CRD extensions?</p><p></p><div class="rc-image"><img alt="CRD Extensions" class="rc-image-img" src="https://static.apiseven.com/202108/1633765449155-0e25f1d0-e62a-4c4f-ab9a-019f609ed5fb.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>At the user level, when a request is made by a Client and arrives at Apache APISIX, the corresponding service traffic is directly transferred to the backend (e.g., Service Pod), thus completing the forwarding process. This process does not need to go through the Ingress Controller, which can ensure that if there are problems, or changes, expansion and contraction or migration processing, it will not affect the users and business traffic.</p><p>On the configuration side, users can apply custom CRD configurations to K8s clusters via kubectl apply, and Ingress Controller will continuously watch these resource changes to apply the corresponding configurations to Apache APISIX.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="custom-resources"></a>Custom resources<a class="hash-link" href="#custom-resources" title="Direct link to heading">#</a></h3><p>APISIX Ingress currently supports the following 5 categories of custom resources related to routing, upstream, consumer, certificate related and cluster public configuration.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="apisix-route"></a>APISIX Route<a class="hash-link" href="#apisix-route" title="Direct link to heading">#</a></h4><p>The top-level configuration for the <code>spec</code> attribute in the custom resource APISIX Route is <code>http</code>. But actually <code>spec</code> supports both configurations, <code>spec.http</code> as in the example below, which is mainly used for Layer 7 proxies, and <code>spec.stream</code>, which is used for Layer 4 proxies. In the configuration file, we first customize a rule for it, namely the relevant parameter under match.</p><p></p><div class="rc-image"><img alt="APISIX Route" class="rc-image-img" src="https://static.apiseven.com/202108/1633765501091-e64ff6e5-5e3e-4b0f-adcc-7ff418edb52c.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>As the above back-end configuration example uses the same Service, you can adjust it according to the scenario in actual use. Note that the <code>weight</code> attribute is used to configure the relevant service weight. With the above configuration, a complete set of routing customization resources can be implemented.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="apisix-upstream-upstream"></a>APISIX Upstream (Upstream)<a class="hash-link" href="#apisix-upstream-upstream" title="Direct link to heading">#</a></h4><p>When configuring APISIX Upstream, you need to pay attention to the content of <code>name</code> to be consistent with the Service of K8s cluster, so as to ensure that the subsequent APISIX Ingress Controller can accurately match its corresponding traffic.</p><p></p><div class="rc-image"><img alt="APISIX Upstream" class="rc-image-img" src="https://static.apiseven.com/202108/1633765534667-3ce978ae-2d85-4de7-8a57-3c5be5f57604.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>In the configuration file, <code>spec.loadbalancer</code> is mainly responsible for setting the load balancing policy, and there are various policy modes to choose from. <code>spec.schem</code>e is for the protocol type configuration, currently only HTTP and gRPC protocols are supported. <code>spec.healthCheck</code> is mainly for setting the health check function, such as setting its active status, effective protocol and path and final feedback and other parameters configuration.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="apisix-consumer"></a>APISIX Consumer<a class="hash-link" href="#apisix-consumer" title="Direct link to heading">#</a></h4><p>The APISIX Consumer configuration mainly adds authentication-related features, such as <code>spec.authParameter</code>, which currently supports <code>BasicAuth</code> and <code>KeyAuth</code>, the two more common types of authentication.</p><p></p><div class="rc-image"><img alt="APISIX Consumer" class="rc-image-img" src="https://static.apiseven.com/202108/1633765580844-9d17d699-fa45-4b43-9ed9-f8ea9c9cab48.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>You can configure the associated <code>username</code> and <code>password</code> directly with <code>value</code>, or directly with <code>secret</code>, which is more secure than the plaintext configuration of the former.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="apisix-tls-certificate"></a>APISIX TLS (certificate)<a class="hash-link" href="#apisix-tls-certificate" title="Direct link to heading">#</a></h4><p>APISIX TLS is mainly for certificate management. As the example shows, users can configure multiple domains via <code>hosts</code>, and the parameters under <code>secret</code> are the corresponding configuration certificates.</p><p></p><div class="rc-image"><img alt="APISIX TLS" class="rc-image-img" src="https://static.apiseven.com/202108/1633765614989-88b363c2-3805-4159-abfc-bac1b055559b.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>Apache APISIX TLS also comes with <code>spec.client</code> for configuring mTLS two-way authentication.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="apisix-config"></a>APISIX Config<a class="hash-link" href="#apisix-config" title="Direct link to heading">#</a></h4><p>The Config types supported by custom resources are described in two ways.</p><p></p><div class="rc-image"><img alt="APISIX Cluster Config" class="rc-image-img" src="https://static.apiseven.com/202108/1633765647605-6ad1ba44-06fd-475d-a6ae-925b3cc9c1ce.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>One type is APISIX Cluster Config, which is mainly used for some generic configurations. Currently it supports global use of Prometheus plug-in/global configuration SkyWalking in K8s or Apache APISIX, and we will add some other generic configurations in subsequent development.</p><p>Another one is the <a href="https://github.com/apache/apisix-ingress-controller/pull/689" target="_blank" rel="noopener noreferrer">APISIX Plugin Config</a> that we are currently working on in PR. If you are interested, you can also click the link to join the discussion. Plugin Config is mainly a unified collection of common plug-in configurations, for example, some of the same configuration, users can use APISIX Plugin Config to apply to multiple routes at the same time, eliminating the tedious steps of multiple independent configurations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="apisix-ingress-hands-on-practice"></a>APISIX Ingress Hands-On Practice<a class="hash-link" href="#apisix-ingress-hands-on-practice" title="Direct link to heading">#</a></h2><p>Currently, you can deploy APISIX Ingress via <a href="https://github.com/apache/apisix-helm-chart" target="_blank" rel="noopener noreferrer">Helm Charts</a>. You can deploy both Apache APISIX and APISIX Ingress, including the etcd required for Apache APISIX, with a single command, which is very simple.</p><p></p><div class="rc-image"><img alt="Installation Steps" class="rc-image-img" src="https://static.apiseven.com/202108/1633765686788-156b0641-aa78-4de8-833d-a187772470a5.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="practice-scenario-1-traffic-segmentation"></a>Practice Scenario 1: Traffic Segmentation<a class="hash-link" href="#practice-scenario-1-traffic-segmentation" title="Direct link to heading">#</a></h3><p>By using APISIX Ingress, you can achieve the effect of proportional traffic slicing, as follows.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="step-1-configure-apisix-upstream"></a>Step 1: Configure APISIX Upstream<a class="hash-link" href="#step-1-configure-apisix-upstream" title="Direct link to heading">#</a></h4><p></p><div class="rc-image"><img alt="Configure APISIX Upstream" class="rc-image-img" src="https://static.apiseven.com/202108/1633765722480-edf8b1ec-98a4-4c18-bd3d-843c73f132bc.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="step-2-configure-apisix-route"></a>Step 2: Configure APISIX Route<a class="hash-link" href="#step-2-configure-apisix-route" title="Direct link to heading">#</a></h4><p>Configure <code>subset</code> and <code>weight</code> in <code>backends</code> to split the incoming user request traffic. The example below shows that 90% of the traffic will go to v1 and 10% of the traffic will go to v2.</p><p></p><div class="rc-image"><img alt="Configure APISIX Route" class="rc-image-img" src="https://static.apiseven.com/202108/1633765771090-1e51e66c-0979-43b4-852b-28f2284a5d4e.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>With the above two steps, it is very easy to slice and dice traffic proportionally to achieve scenarios like canary release.
For more details, please refer to: <a href="https://www.apiseven.com/zh/blog/traffic-split-in-apache-apisix-ingress-controller" target="_blank" rel="noopener noreferrer">Traffic Segmentation in Apache APISIX Ingress Controller</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="practice-scenario-2-configuring-authentication"></a>Practice Scenario 2: Configuring Authentication<a class="hash-link" href="#practice-scenario-2-configuring-authentication" title="Direct link to heading">#</a></h3><p>If you want to configure Basic Auth for certain routes in APISIX Ingress, you can refer to the following actions.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="step-1-create-apisix-consumer-resource"></a>Step 1: Create APISIX Consumer resource<a class="hash-link" href="#step-1-create-apisix-consumer-resource" title="Direct link to heading">#</a></h4><p>As mentioned earlier, you can add <code>basicAuth</code> to the APISIX Consumer configuration and specify a username and password for it.</p><p></p><div class="rc-image"><img alt="Create Resource" class="rc-image-img" src="https://static.apiseven.com/202108/1633765803898-7a30c663-7ba8-4064-8772-a19c56cef191.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_c7R8" id="step-2-configure-the-apisix-route-and-add-authentication-related-parameters"></a>Step 2: Configure the APISIX Route and add authentication-related parameters<a class="hash-link" href="#step-2-configure-the-apisix-route-and-add-authentication-related-parameters" title="Direct link to heading">#</a></h4><p>In the custom resource APISIX Route, simply turn it on and specify the authentication type by adding <code>authenticatio</code>n to the backend.</p><p></p><div class="rc-image"><img alt="Add authentication parameters" class="rc-image-img" src="https://static.apiseven.com/202108/1633765828596-9a0f0142-f201-4004-b85d-a34de4ee13dc.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>With the above steps, it is possible to use Consumer to complete the relevant configuration authentication.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="practice-scenario-3-k8s-resource-extensions"></a>Practice Scenario 3: K8s Resource Extensions<a class="hash-link" href="#practice-scenario-3-k8s-resource-extensions" title="Direct link to heading">#</a></h3><p>As we mentioned at the beginning, APISIX Ingress supports not only custom resources, but also K8s native Ingress resources.</p><p></p><div class="rc-image"><img alt="K8s native resources" class="rc-image-img" src="https://static.apiseven.com/202108/1633765859904-bc48dcc5-cd7a-4875-b248-5c4c64a2d7c5.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>The image above shows the K8s Ingress resource. Normally if you want to do rewrite on a resource, you can add annotation configuration attributes. This way when the user carries the <code>httpbin.org</code> request, it can be redirected to /ip via the path /sample.</p><p>When the above requirement uses APISIX Ingress, simply add a <code>kubernetes.io/ingress.class: apisix</code> to Ingress to specify the APISIX Ingress Controller to listen to this resource, and configure <code>k8s.apisix.apache.org/rewrite-target: &quot;/ip&quot;</code> to complete the redirection to the /ip path.</p><p></p><div class="rc-image"><img alt="APISIX Ingress Resources" class="rc-image-img" src="https://static.apiseven.com/202108/1633765888876-d2d252ee-706c-49f3-b630-03a7e72a0620.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>The above example is just one of the ways APISIX Ingress currently supports native K8s Ingress, for more examples you can check the <a href="https://apisix.apache.org/docs/ingress-controller/practices/proxy-the-httpbin-service-with-ingress" target="_blank" rel="noopener noreferrer">specific documentation</a> for reference and use.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="future-plans"></a>Future Plans<a class="hash-link" href="#future-plans" title="Direct link to heading">#</a></h2><p>APISIX Ingress will continue to be updated in terms of functionality and ecology, and the current phase has been completed <a href="https://github.com/apache/apisix-ingress-controller/blob/master/docs/en/latest/practices/manage-certificates-with-cert-manager.md" target="_blank" rel="noopener noreferrer">APISIX Ingress and Cert-manager integration</a>, and the following goals will be achieved step by step.</p><ol><li>complete Kubernetes V1.22+ and CRD V1 version adaptation support (completed, soon to be released in APISIX Ingress V1.3 version)</li><li>support for Gateway API (expected in Q4)</li><li>extend the new architecture to allow users to use APISIX Ingress without the need to use etcd</li><li>enrich the product ecology and expand the APISIX Ingress community</li></ol><p>Finally, we hope you can participate in the project more often, for example, there will be an APISIX Ingress community meeting every two weeks on Wednesday at 2 pm, and we will synchronize the current progress of the project or the problems we encountered. Keep an eye on the Apache APISIX video to participate in the live community meetings.</p><p><a href="https://github.com/apache/apisix-ingress-controller/issues/614" target="_blank" rel="noopener noreferrer">Click here</a> for more details about the APISIX Ingress community meetings.</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_GzFC"><div class="col"><b>Tags:</b><ul class="tags_5N4j padding--none margin-left--sm"><li class="tag_LKyA"><a class="tag_JoRF tagRegular_BENv" href="/blog/tags/technology">Technology</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/10/13/celebrating-300-contributors-of-apisix"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">¬´ New milestone for the Apache APISIX community - over 300 contributors worldwide!</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/10/01/openeuler"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Apache APISIX community members help openEuler release first innovation version ¬ª</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_thVJ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#apache-apisix-ingress-overview" class="table-of-contents__link">Apache APISIX Ingress Overview</a><ul><li><a href="#apache-apisix-ingress-definition" class="table-of-contents__link">Apache APISIX Ingress Definition</a></li><li><a href="#apache-apisix-in-a-nutshell" class="table-of-contents__link">Apache APISIX in a nutshell</a></li></ul></li><li><a href="#apisix-ingress-vs-k8s-ingress-nginx" class="table-of-contents__link">APISIX Ingress vs K8s Ingress Nginx</a><ul><li><a href="#configuration-level" class="table-of-contents__link">Configuration level</a></li><li><a href="#richness" class="table-of-contents__link">Richness</a></li><li><a href="#architecture-separation" class="table-of-contents__link">Architecture separation</a></li></ul></li><li><a href="#apisix-ingress-features-explained" class="table-of-contents__link">APISIX Ingress Features Explained</a><ul><li><a href="#crd-extensions" class="table-of-contents__link">CRD Extensions</a></li><li><a href="#custom-resources" class="table-of-contents__link">Custom resources</a></li></ul></li><li><a href="#apisix-ingress-hands-on-practice" class="table-of-contents__link">APISIX Ingress Hands-On Practice</a><ul><li><a href="#practice-scenario-1-traffic-segmentation" class="table-of-contents__link">Practice Scenario 1: Traffic Segmentation</a></li><li><a href="#practice-scenario-2-configuring-authentication" class="table-of-contents__link">Practice Scenario 2: Configuring Authentication</a></li><li><a href="#practice-scenario-3-k8s-resource-extensions" class="table-of-contents__link">Practice Scenario 3: K8s Resource Extensions</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link">Future Plans</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ASF</div><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/events/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/apisix/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/general/join">Slack</a></li><li class="footer__item"><a href="https://twitter.com/ApacheAPISIX" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCgPD18cMhOg5rmPVnQhAC8g" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a class="footer__link-item" href="/plugins">Plugin Hub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_fkq+"><img src="https://static.apiseven.com/202202/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_3EHU themedImage--light_heW6 footer__logo"><img src="https://static.apiseven.com/202202/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_3EHU themedImage--dark_6pZL footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2019-2022 The Apache Software Foundation. Apache APISIX, APISIX¬Æ, Apache, the Apache feather logo, and the Apache APISIX project logo are either registered trademarks or trademarks of the Apache Software Foundation.</div></div></div></footer></div>
<script src="https://apisix-website-static.apiseven.com/assets/js/runtime~main.f3244aab.js"></script>
<script src="https://apisix-website-static.apiseven.com/assets/js/main.86bd6361.js"></script>
</body>
<script>window.onload=function(){window.location.host.endsWith(".netlify.app")&&document.querySelector("#__docusaurus").insertAdjacentHTML("afterend",'<div style="text-align: right;padding: 48px 32px 48px 0;">This site is powered by <a href="https://www.netlify.com/" target="_blank">Netlify</a></div>')}</script>
</html>