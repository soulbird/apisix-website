<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="ahrefs-site-verification" content="c2f7370ecf46173f4fb25f114e74c97e0a2976d4f02f61c9b00a9d7d34e34698">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-K24PRPS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-K24PRPS",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/articles/rss.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/articles/atom.xml" title="Apache APISIX¬Æ -- Cloud-Native API Gateway Blog Atom Feed"><title data-react-helmet="true">Apache APISIX and CoreDNS open new doors for service discovery | Apache APISIX¬Æ -- Cloud-Native API Gateway</title><meta data-react-helmet="true" property="og:image" content="https://static.apiseven.com/202202/apache-apisix.png"><meta data-react-helmet="true" name="twitter:image" content="https://static.apiseven.com/202202/apache-apisix.png"><meta data-react-helmet="true" property="og:url" content="https://apisix.apache.org/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" name="robots" content="index,follow"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Apache APISIX and CoreDNS open new doors for service discovery | Apache APISIX¬Æ -- Cloud-Native API Gateway"><meta data-react-helmet="true" name="description" content="Apache APISIX is a dynamic, real-time, high-performance cloud-native API gateway that provides rich traffic management functions such as load balancing, dynamic upstream, grayscale publishing, service interruption, identity authentication, and observability. As a cloud native API gateway, Apache APISIX also integrates multiple service discovery capabilities. This article will show you how to configure CoreDNS in Apache APISIX."><meta data-react-helmet="true" property="og:description" content="Apache APISIX is a dynamic, real-time, high-performance cloud-native API gateway that provides rich traffic management functions such as load balancing, dynamic upstream, grayscale publishing, service interruption, identity authentication, and observability. As a cloud native API gateway, Apache APISIX also integrates multiple service discovery capabilities. This article will show you how to configure CoreDNS in Apache APISIX."><meta data-react-helmet="true" name="keywords" content="Apache APISIX,API Gateway,CoreDNS,Service Discovery,Service Register,Ecosystem"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-03-04T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/CP3cham,https://github.com/hf400159"><meta data-react-helmet="true" property="article:tag" content="Technology,Ecosystem,Service Discovery"><link data-react-helmet="true" rel="shortcut icon" href="https://static.apiseven.com/202202/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://apisix.apache.org/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/zh/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://38VC84A2WJ-dsn.algolia.net" crossorigin="anonymous"><link rel="preload" href="https://apisix-website-static.apiseven.com/assets/js/runtime~main.f3244aab.js" as="script">
<link rel="preload" href="https://apisix-website-static.apiseven.com/assets/js/main.86bd6361.js" as="script">
<link rel="stylesheet" href="https://apisix-website-static.apiseven.com/assets/css/styles.355196a5.css">

<script>var _paq=window._paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://analytics.apache.org/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","17"]);var e=document,p=e.createElement("script"),t=e.getElementsByTagName("script")[0];p.async=!0,p.src=a+"matomo.js",t.parentNode.insertBefore(p,t)}()</script>

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_QVmC">Skip to main content</a></div><div class="announcementBar_gVRT" style="background-color:#e8433e;color:white" role="banner"><div class="announcementBarPlaceholder_csWV"></div><div class="announcementBarContent_2kKG">ü§î Have queries regarding API Gateway? Join Slack channel to discuss <a target="_blank" rel="noopener noreferrer" href="/docs/general/join">join #apisix channel</a>! ‚≠êÔ∏è</div><button type="button" class="clean-btn close announcementBarClose_EDEK" aria-label="Close"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"></path></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_IWhJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo2.svg" alt="Apache APISIX¬Æ" class="themedImage_3EHU themedImage--light_heW6 navbar__logo"><img src="/img/logo2.svg" alt="Apache APISIX¬Æ" class="themedImage_3EHU themedImage--dark_6pZL navbar__logo"><b class="navbar__title">Apache APISIX¬Æ</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/apisix/getting-started">Apache APISIX¬ÆÔ∏è</a></li><li><a class="dropdown__link" href="/docs/dashboard/USER_GUIDE">Apache APISIX¬ÆÔ∏è Dashboard</a></li><li><a class="dropdown__link" href="/docs/ingress-controller/getting-started/">Apache APISIX¬ÆÔ∏è Ingress Controller</a></li><li><a class="dropdown__link" href="/docs/helm-chart/apisix/">Apache APISIX¬ÆÔ∏è Helm Charts</a></li><li><a class="dropdown__link" href="/docs/docker/build/">Apache APISIX¬ÆÔ∏è Docker</a></li><li><a class="dropdown__link" href="/docs/java-plugin-runner/development/">Apache APISIX¬ÆÔ∏è Java Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/go-plugin-runner/getting-started/">Apache APISIX¬ÆÔ∏è Go Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/python-plugin-runner/getting-started/">Apache APISIX¬ÆÔ∏è Python Plugin Runner</a></li><li><a class="dropdown__link" href="/docs/general/join">General</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/blog/tags/user-case">Case Studies</a><a class="navbar__item navbar__link" href="/downloads">Downloads</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/team">Team</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/showcase">Showcase</a></li><li><a class="dropdown__link" href="/plugins">PluginHub</a></li><li><a class="dropdown__link" href="/docs/general/join">Community</a></li><li><a class="dropdown__link" href="/docs/general/events">Events</a></li></ul></div><div class="react-toggle toggle_pM6S react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_5Cll">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_5Cll">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_xkIr"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_drON thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_+zDs margin-bottom--md">All posts</div><ul class="sidebarItemList_L38e"><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/21/weekly-report-0621">Biweekly Report (Jun 1 - Jun 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/automated-operation-base-apache-apisix">Build automated operation platform based on Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/beeto-with-apache-apisix">Practice of localized application with API gateway in the Middle East</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/how-mse-supports-canary-release-with-apache-apisix">Implementation of canary release solution based on Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/14/xueqiu-with-apache-apisix">Architecture evolution of investment platforms with API gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/07/installation-performance-test-of-apigateway-apisix-on-aws-graviton3">Installation and performance testing of API Gateway Apache APISIX on AWS Graviton3</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/06/07/weekly-report-0607">Biweekly ReportÔΩúExplore the weeks of May 16th - May 31th</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/31/release-apache-apisix-2.14">Release Apache APISIX 2.14.1</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/19/weekly-report-0519">Biweekly Report (May 1 - May 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/05/10/weekly-report-0510">Biweekly Report (Apr 15 - Apr 30)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/29/interview-juzhiyuan-apache-member">Interview with JU Zhiyuan: Becoming One of the 918 ASF Members, I Felt Thrilled and Proud</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/22/apisix-with-tidb-practice">High Availability Configuration with TiDB and APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/20/cve-2022-29266">The Vulnerability of Leaking Information in Error Response from jwt-auth PluginÔºàCVE-2022-29266Ôºâ</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/20/weekly-report-0420">Biweekly Report (Apr 1 - Apr 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/17/api-observability">API Observability with APISIX Plugins</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/04/12/apisix-summit-asia-2022">Apache APISIX Summit ASIA 2022: API Gateway, Service Mesh and Open Source Ecology</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/28/release-apache-apisix-2.13">Apache APISIX 2.13.0 Is Released, Bringing LTS and New Features</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/24/weekly-report-0314">Biweekly ReportÔΩúExplore the weeks of Mar 1st - Mar 14th</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/05/apisix-integration-eureka-service-discovery">Integrate API Gateway with Eureka</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/04/apigateway-clickhouse-makes-logging-easier">APISIX Integrates ClickHouse to Improve Log Efficiency</a></li><li class="sidebarItem_iLZw"><a aria-current="page" class="sidebarItemLink_Y3HD sidebarItemLinkActive_Ycqn" href="/blog/2022/03/04/apisix-uses-coredns-enable-service-discovery">Apache APISIX and CoreDNS open new doors for service discovery</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/03/develop-apisix-with-gitpod">How to Use Gitpod to Develop API Gateway?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/03/weekly-report-0228">Biweekly ReportÔΩúExplore the week of Feb 15 - Feb 28</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/02/apisix-integration-graphql-plugin">Use GraphQL with API Gateway Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/02/zhongan-usercase-with-apache-apisix">Implement Traffic Governance in Internet Insurance with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/03/01/apisix-integration-public-api-plugin">API Gateway Apache APISIX provides enhancements on API Management</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/28/apisix-integration-opentelemetry-plugin">Upgrade of observability capabilities, API Gateway Apache APISIX integrates OpenTelemetry</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/25/consul-api-gateway">How to Integrate API Gateway and Consul?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/23/csrf-api-gateway">API Gateway Enhances Security by CSRF Plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/21/nacos-api-gateway">The practice of Nacos service discovery on API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/17/weekly-report-0214">Biweekly Report (Feb 1 - Feb 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/16/file-logger-api-gateway">file logger practice in API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/11/cve-2022-24112">Apache APISIX Vulnerability for Rewriting X-REAL-IP Header (CVE-2022-24112)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/02/10/splunk-apisix-integration">Integrating Splunk HTTP Event Collector with API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/26/apisix-integrate-forward-auth-plugin">forward-auth Plugin for Authentication Function</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/25/apisix-grpc-web-integration">Integrate Apache APISIX with gRPC-Web</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/25/release-apache-apisix-2.12">Apache APISIX 2.12.0 is Released, More Features ComingÔºÅ</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/24/apisix-with-qingcloud-meetup">Webinar | APISIX in QingCloud! </a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/21/apisix-hashicorp-vault-integration">HashiCorp Vault Secure Storage Backend in Apache APISIX Ecosystem</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/21/apisix-xrpc-details-and-miltilingual">Get More Details About xRPC</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/20/upyun-public-gateway-usecase">The Practice of Public Gateway in CDN Scenario from UPYUN</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/19/weekly-report-0116">Biweekly Report (Jan 1 - Jan 16)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/17/apisix-kafka-integration">APISIX integrate with Kafka for real-time log monitoring</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/13/how-to-proxy-dubbo-in-apache-apisix">Makes it More Convenient for You to Proxy Dubbo Services in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/11/apisix-with-shardingsphere-meetup">Webinar | From API to Database</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/11/building-apisix-in-ubuntu-for-arm">How to build APISIX in ARM Ubuntu</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/05/weekly-report-1231">Biweekly Report (Dec 16 - Dec 31)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2022/01/04/authing">Use APISIX and Authing to implement centralized authentication Management</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/30/apisix-proxy-grpc-service">Use API gateway to proxy gRPC service</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/28/dashboard-cve-2021-45232">Apache APISIX Dashboard Unauthorized Access Vulnerability Announcement (CVE-2021-45232)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/24/apisix-integrate-openwhisk-plugin">Coming soon! Apache APISIX Integrate with Apache OpenWhisk</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/24/open-policy-agent">Apache APISIX integrates with Open Policy Agent</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/22/google-logging">APISIX Integrates with Google Cloud Logging</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/20/weekly-report-1215">Biweekly Report (Dec 1 - Dec 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/17/exposure-istio-with-apisix-ingress">Secure Exposure of Istio Services with APISIX Ingress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/16/apisix-with-rocketmq-meetup">Webinar | Apache APISIX √ó Apache RocketMQ Online Meetup</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/15/deploy-apisix-in-kubernetes">How to Easily Deploy Apache APISIX in Kubernetes</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/13/monitor-apisix-ingress-controller-with-prometheus">Monitor APISIX Ingress Controller with Prometheus</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/10/integrate-keycloak-auth-in-apisix">How to Integrate Keycloak for Authentication with Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/08/apisix-integrate-rocketmq-logger-plugin">Apache APISIX &amp; RocketMQ Help API Log Monitoring Capabilities</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/07/apisix-integrate-skywalking-plugin">Apache APISIX Integrates with SkyWalking to Create a Full Range of Log Processing</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/02/weekly-report-1130">Biweekly ReportÔΩú11.15-11.30 Feature Highlights Update in Progress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/01/apisix-supports-azure-functions">Apache APISIX&#x27;s integration with Azure Serverless</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/12/01/release-apache-apisix-2.11">Apache APISIX 2.11.0 is officially released with more new features</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/30/use-apisix-ingress-in-kubesphere">Using Apache APISIX Ingress Gateway to access Custom Monitoring in KubeSphere</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/26/apache-apisix-committer-experience">Contributer to Committer journey @Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/23/cve-2021-43557-research-report">APISIX request_uri variable with risk of path penetration</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/23/cve-2021-43557">Apache APISIX Path traversal in request_uri variable(CVE-2021-43557)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/22/develop-apisix-ingress-with-nocalhost-in-kubernetes">Develop APISIX Ingress Controller with Nocalhost in K8s</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/19/apisix-supports-wasm">Apache APISIX embraces the WASM ecosystem</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/17/dapr-with-apisix">How to integrate with Dapr to build Apache APISIX Gateway Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/16/weekly-report-1114">Weekly Report (Sep 1 - Sep 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/12/apisix-datadog">Cloud Monitoring with Datadog in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/04/skywalking">The observability of Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/03/airwallex-usercase">API Gateway Practice in Airwallex with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/11/02/weekly-report-1031">Weekly ReportÔΩú10.15-10.31 Feature Highlights Update in Progress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/29/extension-guide">Apache APISIX Extensions Guide</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/26/apisix-ingress">How APISIX Ingress grown from 0 to 1</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/22/cert-manager-in-ingress">Use Cert Manager to manage certificates in Apache APISIX Ingress Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/18/meetup">Webinar | Apache APISIX √ó Apache SkyWalking Online Meetup</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/14/weekly-report-1014">Bieekly Report (Oct 1 - Oct 14)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/13/celebrating-300-contributors-of-apisix">New milestone for the Apache APISIX community - over 300 contributors worldwide!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/09/apisix-ingress-techblog">A thoughtful tutorial to get started with Apache APISIX Ingress from concept to practice</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/10/01/openeuler">Apache APISIX community members help openEuler release first innovation version</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/30/weekly-report">Biweekly Report (Sep 13 - Sep 30)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/29/release-apache-apisix-2.10">Release Apache APISIX 2.10.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/28/wps-usercase">WPS with Apache APISIX to create new API gateway experience</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/24/youpaicloud-usercase">Practice in UPYUN with APISIX Ingress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/18/xiaodian-usercase">Apache APISIX helps DIAN to facilitate cloud native solution</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/16/tencent-cloud">Implementing Apache APISIX in Tencent Cloud TI-ONE Platform</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/15/weekly-report">BiWeekly Report (Aug 30 - Sep 15)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/14/youzan">Youzanyun PaaS for comprehensive micro-service governance with APISX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/13/china-mobile-cloud-usercase">How APISIX implemented in China Mobile Cloud</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/09/how-to-contribute-to-an-openSource-without-coding">How can I contribute to an open source project without writing code?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/07/how-to-use-apisix-auth">Centralized Authentication with Apache APISIX and Advanced Tricks</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/07/iqiyi-usercase">Based on Apache APISIX, iQIYI API Gateway Update and landing practice</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/09/06/python-helps-you-quickly-with-apache-apisix-development">Python helps you develop Apache APISIX plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/31/apache-apisix-kubeSphere-a-better-gateway-and-k8s-ingress-controller">Apache APISIX √ó KubeSphere: Providing a better gateway and K8S Ingress Controller</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/30/ingress-meeting">WebinarÔΩú See you at the Apache APISIX Ingress Community Meeting on Wednesday at 2pm!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/30/weekly-report">Weekly Report (Aug 23 - Aug 29)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/27/release-apache-apisix-2.9">Release Apache APISIX 2.9</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/25/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication">Centralized authentication using the OpenID Connect plug-in for Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/25/why-apache-apisix-chose-nginx-and-lua">Why Apache APISIX chose Nginx and Lua to build API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/24/shanghai-meetup-recap">Apache APISIX Meetup in Shanghai</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/23/apachecon-asia-2021">ApacheCon Asia 2021</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/23/weekly-report">Apache APISIX Á§æÂå∫Âë®Êä• ÔΩú 2021 8.16-8.22</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/21/shanghai-meetup">Apache APISIX Meetup in Shanghai, welcome to register!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/19/go-makes-apache-apisix-better">How to use Go to develop Apache APISIX plugin</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/19/weekly-report">Apache APISIX Á§æÂå∫Âë®Êä• ÔΩú 08-09 ÔΩû 08-15</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/18/auth-with-casbin-in-apache-apisix">Licensing with Casbin in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/17/interview-airwallex">Interview with Yang to explore API gateway in Airwallex</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/16/using-the-apache-apisix-openid-connect-plugin-for-centralized-authentication">Using the Apache APISIX OpenID Connect Plugin for Okta Centralized Authentication</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/14/contributors-the-golden-metric-of-opensource-projects">Contributors ‚Äî The Golden Metric of OpenSource Projects</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/12/chaos-mesh-helps-apache-apisix-improve-system-stability">Chaos Mesh Helps Apache APISIX Improve System Stability</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/11/interview-tuzhengsong">My first PR in the Apache APISIX community</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/10/apisix-nginx">APISIX Architecture: How to Dynamically Manage NGINX Cluster?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/09/apache-apisix-in-china-mobile-cloud">Apache APISIX Âú®ÁßªÂä®‰∫ëÁöÑÂ∫îÁî®</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/09/apache-apisix-in-quliankeji">Abandoning Kong and Nginx, Hyperchain Technology implements on its BaaS platform</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/06/using-apache-apisix-to-improve-the-observability-of-nginx">How to Improve the Observability of Nginx with Apache APISX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/08/05/kong-to-apisix">Kong-To-APISIX Migration Tool</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/28/release-apache-apisix-2.8">Release Apache APISIX 2.8.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/27/use-of-plugin-orchestration-in-apache-apisix">Apply Plugin Orchestration in Apache APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/25/apachecon-asia">ApacheCon Asia 2021: Apache APISIX Technical Topics</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/21/apache-apisix-kubernetes">Live | Apache APISIX x Kubernetes</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/06/the-road-to-customization-of-sina-weibo-api-gateway-based-on-apache-apisix">The Road to Customized Development of Sina Weibo API Gateway</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/07/06/celebrate-200-contributors">Apache APISIX has over 200 contributors in GitHub main repo! </a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/30/etcd3-support-http-access-perfectly">Does etcd 3 Support HTTP Access Perfectly?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/29/release-apache-apisix-2.7">Release Apache APISIX 2.7.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/28/why-we-need-apache-apisix">Why do you need Apache APISIX when you have NGINX and Kong?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/23/deploy-great-open-source-gateway-and-ingress-controller-fast">Deploy APISIX and APISIX Ingress Controller on Rancher</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/21/use-java-to-write-apache-apisix-plugins">How to Write an Apache APISIX Plugin in Java</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/18/first-ga-version-v1.0-of-apache-apisix-ingress-controller-released">APISIX Ingress Controller 1.0 Release</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/17/apache-apisix-dashboard-access-control-bypass-vulnerability-announcement">APISIX Dashboard Access Control Bypass Vulnerability Advisory (CVE-2021-33190)</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/16/chaos-mesh-helps-apache-apisix-improve-stability">Chaos Mesh Helps Apache APISIX Improve Stability</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/10/apache-apisix-and-envoy-performance-comparison">Apache APISIX v.s Envoy: Which Has the Better Performance?</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/07/apache-apisix-not-affected-by-nginx-cve-2021-23017">Apache APISIX not affected by NGINX CVE-2021-23017</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/06/06/apisix-two-years">Apache APISIX Open Source 2 Year Anniversary!</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/blog/2021/06/03/firsthand-experience-with-apache-apisix-from-ospp-2020-students">First Experience with Apache APISIX Shared by Student in OSPP 2020</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/05/25/apache-apisix-2.6.0-release">Apache APISIX Release 2.6.0</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/05/24/tencent-games">API Gateway Practice in Tencent with APISIX</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/03/02/get-front-end-test-coverage-with-cypress">Get Front-End Test Coverage with Cypress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/02/26/install-apache-apisix-from-helm-charts">Install Apache APISIX from Helm Charts</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/02/08/stable-product-delivery-with-cypress">Stable Product Delivery with Cypress</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/01/21/run-ingress-apisix-on-amazon-eks">Run Ingress APISIX on Amazon EKS</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2021/01/11/interview-apache-apisix-contributor-wang-pengcheng-senior-security-advisor-of-pwc-south-china-data-security-and-privacy-protection-team">Apache APISIX Contributor Interview | Pengcheng Wang, Senior Security Consultant, PricewaterhouseCoopers China Data Security &amp; Privacy Team</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/18/first-look-at-kubernetes-service-api">A First Look at Kubernetes Service APIs</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/16/another-way-to-implement-envoy-filter">Envoy and Apache APISIX: Another way to implement the Envoy filter</a></li><li class="sidebarItem_iLZw"><a class="sidebarItemLink_Y3HD" href="/blog/2020/12/11/beike-how-to-build-gateway-based-on-apache-apisix">Ke Holdings Inc chooses Apache APISIX as API Gateway</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_XRV4" itemprop="headline">Apache APISIX and CoreDNS open new doors for service discovery</h1><div class="blogPostData_cftJ margin-vert--md"><time datetime="2022-03-04T00:00:00.000Z" itemprop="datePublished">March 4, 2022</time> ¬∑ 9 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_qo3C"><div class="avatar margin-bottom--sm"><a href="https://github.com/CP3cham" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_dLSm" src="https://avatars.githubusercontent.com/u/87352162?v=4" alt="Zijie Chen"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/CP3cham" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Zijie Chen</span></a></div><small class="avatar__subtitle" itemprop="description">Author</small></div></div></div><div class="col col--6 authorCol_qo3C"><div class="avatar margin-bottom--sm"><a href="https://github.com/hf400159" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_dLSm" src="https://avatars.githubusercontent.com/u/97138894?v=4" alt="Fei Han"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hf400159" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Fei Han</span></a></div><small class="avatar__subtitle" itemprop="description">Technical Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>Apache APISIX is a dynamic, real-time, high-performance cloud-native API gateway that provides rich traffic management functions such as load balancing, dynamic upstream, grayscale publishing, service interruption, identity authentication, and observability. As a cloud native API gateway, Apache APISIX also integrates multiple service discovery capabilities. This article will show you how to configure CoreDNS in Apache APISIX.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="background-information"></a>Background information<a class="hash-link" href="#background-information" title="Direct link to heading">#</a></h2><p>In traditional physical machine and virtual machine deployment, calls between various services can be made through fixed <strong>IP + port</strong>. With the advent of the cloud-native era, enterprise business deployment is more inclined to cloud-native containerization. However, in a containerized environment, the startup and destruction of service instances are very frequent. Manual maintenance by operation and maintenance personnel will not only be a heavy workload, but also ineffective. Therefore, a mechanism is needed that can automatically detect the service status, and dynamically bind a new address when the service address changes. The service discovery mechanism came into being.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="service-discovery"></a>Service Discovery<a class="hash-link" href="#service-discovery" title="Direct link to heading">#</a></h2><p>The service discovery mechanism can be split into two parts:</p><ul><li>Service Registry: Store host and port information for services.</li></ul><p>If a container provides a service for calculating the average, we use the service name of average as the unique identifier, then it will be stored in the form of a key-value pair (average:192.168.1.21) in the service registry.</p><ul><li>Service Discovery: Allows other users to discover the information stored during the service registration phase. It is divided into client discovery mode and server discovery mode.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="client-service-discovery-mode"></a>Client Service Discovery Mode<a class="hash-link" href="#client-service-discovery-mode" title="Direct link to heading">#</a></h3><p>When using the client discovery mode, the client obtains the actual network address of the available service by querying the storage information of the service registry, selects an available service instance through a load balancing algorithm, and sends the request to the service.</p><ul><li>Advantages: Simple architecture, flexible expansion, and easy implementation of load balancing functions.</li><li>Disadvantages: heavy client, strong coupling, there is a certain development cost.</li></ul><p></p><div class="rc-image"><img alt="error/client service discovery.png" class="rc-image-img" src="https://static.apiseven.com/202108/1646299277491-53bd8cd0-a984-4fed-bcbd-d251c18f5b7f.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>The implementation logic of client discovery mode is as follows:</p><ol><li>When a new service is started, it will actively register with the registration center, and the service registration center will store the service name and address of the new service;</li><li>When the client needs this service, it will use the service name to initiate a query to the service registry;</li><li>The service registry returns the available addresses, and the client selects one of the addresses to initiate the call according to the specific algorithm.</li></ol><p>In this process, in addition to service registration, the work of service discovery is basically completed by the client independently, and the addresses of the registry and the server are also fully visible to the client.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="server-service-discovery-mode"></a>Server Service Discovery Mode<a class="hash-link" href="#server-service-discovery-mode" title="Direct link to heading">#</a></h3><p>The client sends a request to the Load Balancer, and the Load Balancer queries the service registry according to the client&#x27;s request, finds an available service, and forwards the request to the service. Like the client service discovery mode, the service needs to be registered and deregistered in the registry.</p><ul><li>Advantages: The discovery logic of the service is transparent to the client.</li><li>Disadvantages: Requires additional deployment and maintenance of a Load Balancer.</li></ul><p></p><div class="rc-image"><img alt="error/server service discovery.png" class="rc-image-img" src="https://static.apiseven.com/202108/1646299327406-0172de7f-94a8-4964-b109-562795941d0e.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><p>The implementation logic of server discovery mode is as follows:</p><ol><li>When a new service is started, it will actively register with the registry, and the service registry will store the service name and address of the new service;</li><li>When the client needs a service, it will use the service name to initiate a query to the load balancer;</li><li>According to the service name requested by the client, the Load Balancer proxies the client to initiate a request to the service registry;</li><li>After the Load Balancer obtains the returned address, it selects one of the addresses to initiate the call according to the specific algorithm.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="advantages-of-using-coredns"></a>Advantages of using CoreDNS<a class="hash-link" href="#advantages-of-using-coredns" title="Direct link to heading">#</a></h2><p>CoreDNS is an open source DNS server written in <code>Go</code>, which is commonly used for DNS services and service discovery in multi-container environments due to its flexibility and extensibility. CoreDNS is built on top of Caddy, the HTTP/2 web server, and implements a plug-in chain architecture, abstracting many DNS related logic into layer-by-layer plug-ins, which are more flexible and easy to expand, and user selected plugin It will be compiled into the final executable file, and the running efficiency is also very high. CoreDNS is the first cloud native open source project to join CNCF (Cloud Native Computing Foundation) and has graduated, and it is also the default DNS service in Kubernetes.</p><p>Compared with common service discovery frameworks (Apache ZooKeeper and Consul), what are the advantages of CoreDNS implementing service discovery?</p><p>The principle of service discovery is similar to DNS domain name system, which is an important infrastructure in computer networks. The DNS domain name system binds domain names that rarely change with frequently changing server IP addresses, while the service discovery mechanism is to seldom change domain names. The service name is bound to the service address. In this way, we can use DNS to achieve a function similar to the service registry, and only need to convert the domain name stored in the DNS into the service name. Since many computers have built in DNS functions, we only need to modify the configuration on the original DNS system without doing too many extra things.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="principle-architecture"></a>Principle Architecture<a class="hash-link" href="#principle-architecture" title="Direct link to heading">#</a></h2><p>The overall structure is as follows:</p><ol><li>The client initiates a request to APISIX to call the service.</li><li>APISIX accesses the upstream service node according to the set route (the specific configuration can be seen below). In APISIX, you can set the upstream information to obtain through DNS. As long as the IP address of the DNS server is set correctly, APISIX will automatically initiate a request to this address , to obtain the address of the corresponding service in DNS.</li><li>CoreDNS returns a list of available addresses based on the requested service name.</li><li>APISIX selects one of the available addresses and the configured algorithm to initiate the call.</li></ol><p></p><div class="rc-image"><img alt="error/architecture.png" class="rc-image-img" src="https://static.apiseven.com/202108/1646299394984-76683b2c-03ae-45b0-b5a6-8b8f3b6d47cf.png"><div class="rc-image-mask">Click to Preview</div></div><p></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="how-to-use"></a>How to Use<a class="hash-link" href="#how-to-use" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h3><p>This article is based on the following environments.</p><ul><li>OS: Centos 7.9.</li><li>Apache APISIX 2.12.1, please refer to: <a href="https://apisix.apache.org/docs/apisix/how-to-build" target="_blank" rel="noopener noreferrer">How-to-Bulid Apache APISIX</a>.</li><li>CoreDNS 1.9.0Ôºåplease refer to: <a href="https://coredns.io/manual/toc/#installation" target="_blank" rel="noopener noreferrer">CoreDNS Installation Guide</a>.</li><li>Node.js, please refer to: <a href="https://github.com/nodejs/help/wiki/Installation" target="_blank" rel="noopener noreferrer">Node.js Installation</a>.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_c7R8" id="procedure"></a>Procedure<a class="hash-link" href="#procedure" title="Direct link to heading">#</a></h3><ol><li>Use Node.js&#x27;s <code>Koa</code> framework starts a simple test service on port <code>3005</code>.</li></ol><p>Accessing this service will return the string <code>Hello World</code>, and we will get the address of this service via CoreDNS later.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">  const Koa = require(&#x27;koa&#x27;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  const app = new Koa();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.use(async ctx =&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx.body = &#x27;Hello World&#x27;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.listen(3005);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><ol start="2"><li>Configure CoreDNS.</li></ol><p>CoreDNS listens on port <code>53</code> by default, and will read the <code>Corefile</code> configuration file in the same directory. Under the initial conditions, there is no <code>Corefile</code> file in the same directory, so we need to create and complete the configuration.</p><p><code>Corefile</code> mainly implements functions by configuring plugins, so we need to configure three plugins:</p><ul><li><code>hosts</code>: You can use this parameter to bind the service name and IP address. Fallthrough means that when the current plugin cannot return normal data, the request can be forwarded to the next plugin for processing (if it exists).</li><li><code>forward</code>: Indicates to proxy the request to the specified address, usually the authoritative DNS server address.</li><li><code>log</code>: Don&#x27;t configure any parameters to print log information to the console interface for debugging.</li></ul><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">  .:1053 {                           # Listen on port 1053</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      hosts {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          10.10.10.10 hello</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          # Bind the service name &quot;coredns&quot; to the IP address</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          fallthrough</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      forward . 114.114.114.114:53</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      log</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><ol start="3"><li>Configuring Apache APISIX.</li></ol><p>Add the relevant configuration in the <code>conf/config.yaml</code> file and reload Apache APISIX.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">  # config.yml</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  # ...other config</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  discovery:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     dns:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       servers:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          - &quot;127.0.0.1:1053&quot;          # Use the real address of the DNS server,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      # here is the 1053 port of the local machine.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><ol start="4"><li>Configure routing information in Apache APISIX.</li></ol><p>Next, we configure the relevant routing information by requesting the <code>Admin API</code>.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">  curl http://127.0.0.1:9080/apisix/admin/routes/1 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -X PUT -d &#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;uri&quot;: &quot;/core/*&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;upstream&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;service_name&quot;: &quot;hello:3005&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          # Name the service as coredns, consistent with</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          # the configuration of the hosts plugin in CoreDNS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;type&quot;: &quot;roundrobin&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;discovery_type&quot;: &quot;dns&quot; # Set service discovery type to DNS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><ol start="5"><li>verify.</li></ol><ul><li>Authenticate on the local machine</li></ul><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">  curl 127.0.0.1:9080/core/hello -i</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  HTTP/1.1 200 OK</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Content-Type: text/plain; charset=utf-8</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Content-Length: 11</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Connection: keep-alive</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Date: Wed, 16 Feb 2022 08:44:08 GMT</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Server: APISIX/2.12.1</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Hello World</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><ul><li>Verify on other hosts</li></ul><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">  curl 10.10.10.10:9080/core/hello -i</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  HTTP/1.1 200 OK</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Content-Type: text/plain; charset=utf-8</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Content-Length: 11</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Connection: keep-alive</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Date: Wed, 16 Feb 2022 08:43:32 GMT</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Server: APISIX/2.12.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Hello World</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><p>As you can see from the above results, the service is running normally.</p><ol start="6"><li>The IP address of the simulated container is changed because the container cannot provide services for various reasons.</li></ol><p>We need to set up the same service on another server, also running on port <code>3005</code>, but with the IP address changed, and the return string changed to <code>Hello, Apache APISIX</code>.</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">const Koa = require(&#x27;koa&#x27;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">const app = new Koa();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">app.use(async ctx =&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ctx.body = &#x27;Hello, Apache APISIX&#x27;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">app.listen(3005);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><p>Modify the <code>Corefile</code> configuration and restart Core DNS. Leave other configurations unchanged. The configuration example is as follows:</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">.:1053 {                         # Listen on port 1053</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    hosts {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        10.10.10.11 hello        # Modify service IP address</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        # Bind the service name &quot;coredns&quot; to the IP address</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        fallthrough</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    forward . 114.114.114.114:53</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    log</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><blockquote><p>DNS has a caching mechanism. When we use the <code>dig</code> command to request to resolve a new domain name, we will see a number field in the returned <code>DNS record</code>, that is, the <code>TTL</code> field, which is generally <code>3600</code>, which is one hour. Requests sent to the domain name within the <code>TTL</code> period will no longer request the DNS server to resolve the address, but will directly obtain the address corresponding to the domain name in the local cache.</p></blockquote><p>By verifying, we can find that the request has been redirected to the new address. Verify as follows:</p><div class="codeBlockContainer_8r9j"><div class="codeBlockContent_6g8O Shell"><pre tabindex="0" class="prism-code language-Shell codeBlock_U6z7 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_qR4p"><span class="token-line" style="color:#393A34"><span class="token plain">  curl 127.0.0.1:9080/core/hello -i</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  HTTP/1.1 200 OK</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Content-Type: text/plain; charset=utf-8</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Content-Length: 11</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Connection: keep-alive</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Date: Wed, 16 Feb 2022 08:44:08 GMT</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Server: APISIX/2.12.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Hello, Apache APISIX</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_ycDu clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_c7R8" id="summary"></a>Summary<a class="hash-link" href="#summary" title="Direct link to heading">#</a></h2><p>This article mainly introduces the types of service discovery and how to use CoreDNS in Apache APISIX. You can use Apache APISIX and CoreDNS according to your business needs and past technical architecture.</p><p>Apache APISIX is also currently working on additional plugins to support the integration of additional services, so if you are interested, feel free to start a discussion in <a href="https://github.com/apache/apisix/discussions" target="_blank" rel="noopener noreferrer">GitHub Discussions</a>, or via the <a href="https://apisix.apache.org/zh/docs/general/join" target="_blank" rel="noopener noreferrer">mailing list</a> to communicate.</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_GzFC"><div class="col"><b>Tags:</b><ul class="tags_5N4j padding--none margin-left--sm"><li class="tag_LKyA"><a class="tag_JoRF tagRegular_BENv" href="/blog/tags/technology">Technology</a></li><li class="tag_LKyA"><a class="tag_JoRF tagRegular_BENv" href="/blog/tags/ecosystem">Ecosystem</a></li><li class="tag_LKyA"><a class="tag_JoRF tagRegular_BENv" href="/blog/tags/service-discovery">Service Discovery</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2022/03/04/apigateway-clickhouse-makes-logging-easier"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">¬´ APISIX Integrates ClickHouse to Improve Log Efficiency</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2022/03/03/develop-apisix-with-gitpod"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">How to Use Gitpod to Develop API Gateway? ¬ª</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_thVJ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background-information" class="table-of-contents__link">Background information</a></li><li><a href="#service-discovery" class="table-of-contents__link">Service Discovery</a><ul><li><a href="#client-service-discovery-mode" class="table-of-contents__link">Client Service Discovery Mode</a></li><li><a href="#server-service-discovery-mode" class="table-of-contents__link">Server Service Discovery Mode</a></li></ul></li><li><a href="#advantages-of-using-coredns" class="table-of-contents__link">Advantages of using CoreDNS</a></li><li><a href="#principle-architecture" class="table-of-contents__link">Principle Architecture</a></li><li><a href="#how-to-use" class="table-of-contents__link">How to Use</a><ul><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#procedure" class="table-of-contents__link">Procedure</a></li></ul></li><li><a href="#summary" class="table-of-contents__link">Summary</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ASF</div><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/events/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/apisix/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/general/join">Slack</a></li><li class="footer__item"><a href="https://twitter.com/ApacheAPISIX" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCgPD18cMhOg5rmPVnQhAC8g" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a class="footer__link-item" href="/plugins">Plugin Hub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_fkq+"><img src="https://static.apiseven.com/202202/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_3EHU themedImage--light_heW6 footer__logo"><img src="https://static.apiseven.com/202202/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_3EHU themedImage--dark_6pZL footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2019-2022 The Apache Software Foundation. Apache APISIX, APISIX¬Æ, Apache, the Apache feather logo, and the Apache APISIX project logo are either registered trademarks or trademarks of the Apache Software Foundation.</div></div></div></footer></div>
<script src="https://apisix-website-static.apiseven.com/assets/js/runtime~main.f3244aab.js"></script>
<script src="https://apisix-website-static.apiseven.com/assets/js/main.86bd6361.js"></script>
</body>
<script>window.onload=function(){window.location.host.endsWith(".netlify.app")&&document.querySelector("#__docusaurus").insertAdjacentHTML("afterend",'<div style="text-align: right;padding: 48px 32px 48px 0;">This site is powered by <a href="https://www.netlify.com/" target="_blank">Netlify</a></div>')}</script>
</html>